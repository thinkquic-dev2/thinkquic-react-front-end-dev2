(this["webpackJsonpthinkquic-prototype"]=this["webpackJsonpthinkquic-prototype"]||[]).push([[0],{114:function(e,t){},161:function(e,t){},235:function(e,t,n){e.exports=n(838)},241:function(e,t,n){},642:function(e,t){},643:function(e,t){},646:function(e,t,n){},647:function(e,t,n){},648:function(e,t,n){},656:function(e,t,n){},657:function(e,t,n){},658:function(e,t,n){},659:function(e,t,n){},660:function(e,t,n){},755:function(e,t,n){},756:function(e,t,n){},757:function(e,t,n){},758:function(e,t,n){},759:function(e,t,n){},769:function(e,t,n){},770:function(e,t,n){},771:function(e,t,n){},772:function(e,t,n){},773:function(e,t,n){},774:function(e,t,n){},775:function(e,t,n){},776:function(e,t,n){},777:function(e,t,n){},778:function(e,t,n){},779:function(e,t,n){},780:function(e,t,n){},781:function(e,t,n){},782:function(e,t,n){},827:function(e,t,n){},828:function(e,t,n){},829:function(e,t,n){},830:function(e,t,n){},831:function(e,t,n){},832:function(e,t,n){},833:function(e,t,n){},834:function(e,t,n){},835:function(e,t,n){},836:function(e,t,n){},837:function(e,t,n){},838:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(128),s=n.n(o),l=n(22),i=n(12),c=n.n(i),u=n(21),m=(n(241),n(5)),d=n(7),f=n(28),g=function(){return window.appConfig},p=function(){var e=g().app,t=Object(a.useState)([]),n=Object(m.a)(t,2),r=n[0],o=n[1],s=Object(a.useState)(!1),l=Object(m.a)(s,2),i=l[0],c=l[1],u=function(){return f()?p():h()},f=function(){return!!localStorage.getItem("transcript")},p=function(){return JSON.parse(localStorage.getItem("transcript"))},h=function(){return[{from:"app",message:e.welcomeMessage}]};return Object(a.useEffect)((function(){i||(o(Object(d.a)(u())),c(!0))}),[i]),Object(a.useEffect)((function(){r.length>0?localStorage.setItem("transcript",JSON.stringify(r)):o(Object(d.a)(u()))}),[r]),{messages:r,setMessages:o,isPreviousMessagesLoaded:i}},h=function(e){var t=e.s3,n=e.username,r=g().s3,o=r.albumBucketName,s=r.uploadPath,l=r.retrievePath,i=g().app.isFileExplorerEnabled,f=Object(a.useState)([]),p=Object(m.a)(f,2),h=p[0],v=p[1],b=Object(a.useState)([]),E=Object(m.a)(b,2),w=E[0],y=E[1],O=Object(a.useState)([]),j=Object(m.a)(O,2),N=j[0],_=j[1],k=Object(a.useState)(null),x=Object(m.a)(k,2),C=x[0],S=x[1],I=Object(a.useState)([]),M=Object(m.a)(I,2),F=M[0],L=M[1],A=Object(a.useState)(!1),z=Object(m.a)(A,2),T=z[0],U=z[1],H=Object(a.useRef)(null),P=s+n+"/",V=l+n+"/";function D(e){L(F.filter((function(t){return t===e}))),$({Prefix:V})}function R(e){var t=B();q(t=t.filter((function(t){return t!==e}))),S(t),L([].concat(Object(d.a)(F),[e]))}function q(e){if(!e)return localStorage.setItem("pendingFileUploads","[]"),[];localStorage.setItem("pendingFileUploads",JSON.stringify(e))}function B(){var e=localStorage.getItem("pendingFileUploads");return e?JSON.parse(e):q()}var $=function(){var e=Object(u.a)(c.a.mark((function e(t){var n,a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W(t);case 2:n=e.sent,a=[],r=[],n.Contents.forEach((function(e){var t=e.Key,n=(t=t.replace(V,"")).split("/");if(n.length>1){var o=n[0];a.includes(o)||a.push(o)}else r.push(t)})),y(a),v(r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(u.a)(c.a.mark((function e(t){var n,a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W(t);case 2:n=e.sent,a=[],r=[],n.Contents.forEach((function(e){var n=e.Key.replace(t+"/","");n.split("/").length>1?a.includes(n.split("/")[0])||a.push(n.split("/")[0]):r.push(n)})),y(a),v(r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function W(e){return new Promise((function(n,a){t.listObjects(e,(function(e,t){e?a(e):n(t)}))}))}function G(e){return Y.apply(this,arguments)}function Y(){return(Y=Object(u.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K();case 2:if(!e.sent.includes(t)){e.next=6;break}return U(!0),e.abrupt("return");case 6:if(!(Date.now()-H.current>4e4)){e.next=9;break}return R(t),e.abrupt("return");case 9:setTimeout((function(){return G(t)}),5e3);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(){return Z.apply(this,arguments)}function Z(){return(Z=Object(u.a)(c.a.mark((function e(){var t,n,a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,W({Prefix:V});case 3:for(n=e.sent,a=n.Contents,r=0;r<a.length;r++)t.push(a[r].Key.replace(V,""));return e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){if(t&&i&&n){var e={},a=V;N.length>0&&N.forEach((function(e,t){a+=e+"/"})),""!==a&&(e.Prefix=a),$(e)}}),[N,t,n,i,V]),Object(a.useEffect)((function(){var e;C?t&&C.length>0&&(e=C[0],H.current=Date.now(),G(e)):S(B())}),[C]),Object(a.useEffect)((function(){var e=function(){for(var e=function(){for(var e=[],t=0;t<C.length;t++)h.includes(C[t])&&e.push(C[t]);return e}(),t=[],n=0;n<C.length;n++)e.includes(C[n])||t.push(C[n]);return t};C&&(q(e()),S(e()))}),[h]),Object(a.useEffect)((function(){T&&($({Prefix:V}),U(!1))}),[T]),{files:h,folders:w,currentDirectoryPath:N,getFolderContents:J,uploadFile:function(e,t,a){var r=e.name,s=P+t+"-"+r;new window.AWS.S3.ManagedUpload({params:{Bucket:o,Key:s,Body:e}}).promise().then((function(r){!function(e){var t=e.replace(n+"-",""),a=B();a=[].concat(Object(d.a)(a),[t]),q(Object(d.a)(a)),S(Object(d.a)(a))}(t+"-"+e.name),a("success")}),(function(n){D(t+"-"+e.name),a("error")}))},setCurrentDirectoryPath:_,getFile:function(e){var n={Bucket:o,Key:V+e};return new Promise((function(e,a){t.getObject(n,(function(t,n){t?a(t):e(n)}))}))},deleteFile:function(e){var a={Bucket:o,Key:l+n+"/"+e};t.deleteObject(a,(function(e,t){e||$({Prefix:V})}))},pendingFileUploads:C,fileUploadErrors:F,removeFileFromFileUploadErrors:D}},v=n(87),b=n.n(v),E=function(){var e=function(e){var t=[],n=[],a=Object.keys(e);e[a[0]][0].forEach((function(e){t.push({headerName:e,field:e})}));for(var r=e[a[0]].length,o=1;o<r;o++){for(var s=e[a[0]][o],l={},i=0;i<t.length;i++)l[t[i].field]=s[i];n.push(l)}return{columnDefs:t,rowData:n}};return{convertExcelToJson:function(t,n){t.forEach((function(t){var a=new FileReader;a.onabort=function(){return console.log("file reading was aborted")},a.onerror=function(){return console.log("file reading has failed")},a.onload=function(){var t=a.result;t=new Uint8Array(t);var r=b.a.read(t,{type:"array",raw:!0}),o={};r.SheetNames.forEach((function(e){var t=b.a.utils.sheet_to_json(r.Sheets[e],{header:1,defval:""});t.length&&(o[e]=t)}));var s=e(o);n(s)},a.readAsArrayBuffer(t)}))},convertExcelFromS3ToJson:function(t){var n=t,a=b.a.read(n,{type:"array",raw:!0}),r={};return a.SheetNames.forEach((function(e){var t=b.a.utils.sheet_to_json(a.Sheets[e],{header:1,defval:""});t.length&&(r[e]=t)})),e(r)}}},w=n(56),y=function(){var e=Object(a.useState)({}),t=Object(m.a)(e,2),n=t[0],r=t[1];Object(a.useEffect)((function(){var e=localStorage.getItem("loginAttempts");if(e&&0===Object.keys(n).length){var t=JSON.parse(e);r(t)}}));return{getLoginAttempts:function(e){return n[e]?n[e]:0},incrementLoginAttempts:function(e){var t=n[e]?n[e]+1:1,a=Object(l.a)(Object(l.a)({},n),{},Object(w.a)({},e,t));r(Object(l.a)({},a)),localStorage.setItem("loginAttempts",JSON.stringify(Object(l.a)(Object(l.a)({},n),{},Object(w.a)({},e,++n[e]))))},resetLoginAttempts:function(e){var t=Object(l.a)(Object(l.a)({},n),{},Object(w.a)({},e,0));r(Object(l.a)({},t)),localStorage.setItem("loginAttempts",JSON.stringify(t))}}},O=n(17),j=function(){var e=g(),t={UserPoolId:e.cognito.UserPoolId,ClientId:e.cognito.ClientId},n=new O.g(t),r=Object(a.useState)(null),o=Object(m.a)(r,2),s=o[0],l=o[1],i=Object(a.useState)(""),c=Object(m.a)(i,2),u=c[0],d=c[1],p=Object(a.useState)(null),h=Object(m.a)(p,2),v=h[0],b=h[1],E=Object(a.useState)(null),y=Object(m.a)(E,2),j=y[0],N=y[1],_=Object(a.useState)(null),k=Object(m.a)(_,2),x=k[0],C=k[1],S=Object(a.useState)(!1),I=Object(m.a)(S,2),M=I[0],F=I[1],L=Object(a.useState)("not started"),A=Object(m.a)(L,2),z=A[0],T=A[1],U=function(){P(j,n).signOut(),b(null),l(null),F(!1),N(null),T("not started")},H=function(){var t=n.getCurrentUser();null!=t?t.getSession((function(n,a){if(n)console.log(n.message);else{var r=a.getIdToken().getJwtToken();C(a.getIdToken().payload.email),function(t,n){f.config.region=e.cognito.region;var a=V(e.cognito.region,e.cognito.UserPoolId,n);f.config.credentials=new f.CognitoIdentityCredentials({IdentityPoolId:e.cognito.identityPoolId,Logins:a}),f.config.credentials.clearCachedId(),f.config.credentials.get((function(e){e?console.log(e.message):(F(!0),l(t),N(t.getUsername()))}))}(t,r),b(t)}})):console.log("Session expired. Please log in again.")};var P=function(e,t){var n={Username:e,Pool:t};return new O.e(n)},V=function(e,t,n){var a={};return a["cognito-idp."+e+".amazonaws.com/"+t]=n,a};return Object(a.useEffect)((function(){H()}),[]),{signIn:function(t,a,r){N(t);var o={Username:t,Password:a},s=new O.a(o),i=P(t,n);i.authenticateUser(s,{onSuccess:function(t){t.getAccessToken().getJwtToken();f.config.region=e.cognito.region,f.config.credentials=new f.CognitoIdentityCredentials({IdentityPoolId:e.cognito.identityPoolId,Logins:Object(w.a)({},"cognito-idp."+e.cognito.region+".amazonaws.com/"+e.cognito.UserPoolId,t.getIdToken().getJwtToken())}),f.config.credentials.refresh((function(e){e?(console.log("Here"),console.error(e)):(b(i),F(!0),l(i),N(i.username))}))},onFailure:function(e){"UserNotConfirmedException"===e.code?T("verifying"):r(e)}})},signOut:U,register:function(e,t,a,r,o){N(t);var s=[],l={Name:"email",Value:e},i=new O.f(l);s.push(i),n.signUp(t,a,s,null,(function(e,t){e?(console.log(e.message),o(e)):(b(t.user),d(t.userSub),T("verifying"))}))},deleteAccount:function(){v.deleteUser((function(e,t){e?alert(e.message||JSON.stringify(e)):(console.log("call result: "+t),localStorage.clear(),U())}))},verifyAccount:function(e){P(j,n).confirmRegistration(e,!0,(function(e,t){e?console.log(e):(localStorage.setItem("usernew",v.username),T("verified"))}))},resetPassword:function(e,t){P(e,n).forgotPassword({onSuccess:function(e){console.log(e),t(null)},onFailure:function(e){t(e)}})},confirmPassword:function(e,t,a,r){P(e,n).confirmPassword(t,a,{onFailure:function(e){r(e)},onSuccess:function(){r(null)}})},username:j,email:x,isLoggedIn:M,registrationStatus:z,currentUser:s,userSub:u}},N=function(e){var t=e.isLoggedIn,n=g(),r=Object(a.useState)(null),o=Object(m.a)(r,2),s=o[0],l=o[1];return Object(a.useEffect)((function(){t&&l(new f.S3({apiVersion:n.s3.bucketVersionNumber,params:{Bucket:n.s3.albumBucketName}}))}),[t]),{s3:s}},_=function(e){var t=e.username,n=g().lex;return{pushChat:function(e,a){if(t){var r=new f.LexRuntime,o={botAlias:n.botAlias,botName:n.botName,inputText:e,userId:t,sessionAttributes:window.sessionAttributes};r.postText(o,(function(e,t){if(e)return window.sessionAttributes={},void a("error");if(t){window.sessionAttributes=t.sessionAttributes;var n=t.message.replace(/(\r\n|\n|\r)/g,"");a(n)}}))}},botName:n.botName,botAlias:n.botAlias}},k=r.a.createContext(),x=function(e){var t=e.children,n=p(),o=n.messages,s=n.setMessages,l=n.isPreviousMessagesLoaded,i=E().convertExcelToJson,c=Object(a.useState)(),u=Object(m.a)(c,2),d=u[0],f=u[1],g=Object(a.useState)(),v=Object(m.a)(g,2),b=v[0],w=v[1],O=y(),x=O.getLoginAttempts,C=O.incrementLoginAttempts,S=O.resetLoginAttempts,I=Object(a.useState)([]),M=Object(m.a)(I,2),F=M[0],L=M[1],A=Object(a.useState)(""),z=Object(m.a)(A,2),T=z[0],U=z[1],H=Object(a.useState)(!1),P=Object(m.a)(H,2),V=P[0],D=P[1],R=j({setMessages:s}),q=R.signIn,B=R.signOut,$=R.register,J=R.deleteAccount,W=R.verifyAccount,G=R.registrationStatus,Y=R.isLoggedIn,K=R.username,Z=R.email,X=R.userIdleTime,Q=R.resetPassword,ee=R.confirmPassword,te=R.cognitoUser,ne=R.currentUser,ae=R.userSub,re=_({username:K}),oe=re.pushChat,se=re.botName,le=re.botAlias,ie=N({isLoggedIn:Y}).s3,ce=h({s3:ie,username:K}),ue=ce.files,me=ce.folders,de=ce.currentDirectoryPath,fe=ce.getFolderContents,ge=ce.uploadFile,pe=ce.setCurrentDirectoryPath,he=ce.getFile,ve=ce.deleteFile,be=ce.pendingFileUploads,Ee=ce.fileUploadErrors,we=ce.removeFileFromFileUploadErrors,ye=ce.maxFileUpload,Oe=Object(a.useRef)(),je=Object(a.useState)(null),Ne=Object(m.a)(je,2),_e=Ne[0],ke=Ne[1],xe=Object(a.useState)(!1),Ce=Object(m.a)(xe,2),Se=Ce[0],Ie=Ce[1],Me=Object(a.useState)(!1),Fe=Object(m.a)(Me,2),Le=Fe[0],Ae=Fe[1],ze=Object(a.useState)("account-info"),Te=Object(m.a)(ze,2),Ue=Te[0],He=Te[1];return r.a.createElement(k.Provider,{value:{messages:o,isPreviousMessagesLoaded:l,setMessages:s,files:ue,folders:me,currentDirectoryPath:de,getFolderContents:fe,uploadFile:ge,setCurrentDirectoryPath:pe,getFile:he,deleteFile:ve,uploadFileInputRef:Oe,uploadFileInput:_e,setUploadFileInput:ke,rawDataFile:d,setRawDataFile:f,jsonDataFile:b,setJsonDataFile:w,handleFileSelection:function(){for(var e=Oe.current.files,t=[],n=0,a=e.length;n<a;n++)t.push(e[n]);i(t,w),Ie(!0)},resetFileInputRefValue:function(){Oe.current.value=null,Ie(!1)},isUploadButtonEnabled:Se,setIsUploadButtonEnabled:Ie,signIn:q,signOut:B,register:$,deleteAccount:J,verifyAccount:W,pushChat:oe,registrationStatus:G,isLoggedIn:Y,username:K,email:Z,botName:se,botAlias:le,isRightSidebarOpen:Le,rightSidebarContent:Ue,setRightSidebarContent:He,setIsRightSidebarOpen:Ae,maxFileUpload:ye,userIdleTime:X,resetPassword:Q,confirmPassword:ee,getLoginAttempts:x,incrementLoginAttempts:C,resetLoginAttempts:S,pendingFileUploads:be,fileUploadErrors:Ee,removeFileFromFileUploadErrors:we,userSub:ae,cognitoUser:te,currentUser:ne,allUsers:F,setAllUsers:L,conId:T,setConId:U,isWaiting:V,setIsWaiting:D}},t)},C=n(19),S=(n(646),n(30)),I=(n(647),r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),r.a.createElement("path",{d:"M10 10.02h5V21h-5zM17 21h3c1.1 0 2-.9 2-2v-9h-5v11zm3-18H5c-1.1 0-2 .9-2 2v3h19V5c0-1.1-.9-2-2-2zM3 19c0 1.1.9 2 2 2h3V10H3v9z"}))),M=r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"black"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{className:"svg-color",d:"M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 12H4V8h16v10z"})),F=r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"black"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{className:"svg-color",d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"})),L=r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"black"},r.a.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),r.a.createElement("path",{d:"M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V6h16v12zM4 0h16v2H4zm0 22h16v2H4zm8-10c1.38 0 2.5-1.12 2.5-2.5S13.38 7 12 7 9.5 8.12 9.5 9.5 10.62 12 12 12zm0-3.5c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm5 7.49C17 13.9 13.69 13 12 13s-5 .9-5 2.99V17h10v-1.01zm-8.19-.49c.61-.52 2.03-1 3.19-1 1.17 0 2.59.48 3.2 1H8.81z"})),A=r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"black",className:"bi bi-chat-dots",viewBox:"0 0 16 16"},r.a.createElement("path",{d:"M5 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm4 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"}),r.a.createElement("path",{d:"M2.165 15.803l.02-.004c1.83-.363 2.948-.842 3.468-1.105A9.06 9.06 0 0 0 8 15c4.418 0 8-3.134 8-7s-3.582-7-8-7-8 3.134-8 7c0 1.76.743 3.37 1.97 4.6a10.437 10.437 0 0 1-.524 2.318l-.003.011a10.722 10.722 0 0 1-.244.637c-.079.186.074.394.273.362a21.673 21.673 0 0 0 .693-.125zm.8-3.108a1 1 0 0 0-.287-.801C1.618 10.83 1 9.468 1 8c0-3.192 3.004-6 7-6s7 2.808 7 6c0 3.193-3.004 6-7 6a8.06 8.06 0 0 1-2.088-.272 1 1 0 0 0-.711.074c-.387.196-1.24.57-2.634.893a10.97 10.97 0 0 0 .398-2z"})),z=r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"})),T=r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M7 10l5 5 5-5z"})),U=r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",style:{width:"24px",fill:"white"}},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"})),H=r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"black",style:{width:"24px",fill:"white"}},r.a.createElement("g",null,r.a.createElement("path",{d:"M0,0h24v24H0V0z",fill:"none"}),r.a.createElement("path",{className:"svg-color",d:"M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.8,11.69,4.8,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z"}))),P=r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),V=r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})),D=r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M5 9.2h3V19H5zM10.6 5h2.8v14h-2.8zm5.6 8H19v6h-2.8z"})),R=r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),r.a.createElement("path",{d:"M11 2v20c-5.07-.5-9-4.79-9-10s3.93-9.5 9-10zm2.03 0v8.99H22c-.47-4.74-4.24-8.52-8.97-8.99zm0 11.01V22c4.74-.47 8.5-4.25 8.97-8.99h-8.97z"})),q=r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M3.5 18.49l6-6.01 4 4L22 6.92l-1.41-1.41-7.09 7.97-4-4L2 16.99z"})),B=r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M2 12C2 6.48 6.48 2 12 2s10 4.48 10 10-4.48 10-10 10S2 17.52 2 12zm10 6c3.31 0 6-2.69 6-6s-2.69-6-6-6-6 2.69-6 6 2.69 6 6 6z"})),$=r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),r.a.createElement("path",{d:"M10 10.02h5V21h-5zM17 21h3c1.1 0 2-.9 2-2v-9h-5v11zm3-18H5c-1.1 0-2 .9-2 2v3h19V5c0-1.1-.9-2-2-2zM3 19c0 1.1.9 2 2 2h3V10H3v9z"})),J=r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"})),W=r.a.createElement("svg",{className:"svg-excel",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},r.a.createElement("g",null,r.a.createElement("rect",{fill:"none"}),r.a.createElement("path",{d:"M20.41,8.41l-4.83-4.83C15.21,3.21,14.7,3,14.17,3H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V9.83 C21,9.3,20.79,8.79,20.41,8.41z M7,7h7v2H7V7z M17,17H7v-2h10V17z M17,13H7v-2h10V13z"}))),G=r.a.createElement("svg",{className:"svg-html",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},r.a.createElement("g",null,r.a.createElement("rect",{fill:"none"}),r.a.createElement("path",{d:"M20.41,8.41l-4.83-4.83C15.21,3.21,14.7,3,14.17,3H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V9.83 C21,9.3,20.79,8.79,20.41,8.41z M7,7h7v2H7V7z M17,17H7v-2h10V17z M17,13H7v-2h10V13z"}))),Y=r.a.createElement("svg",{className:"svg-js",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},r.a.createElement("g",null,r.a.createElement("rect",{fill:"none"}),r.a.createElement("path",{d:"M20.41,8.41l-4.83-4.83C15.21,3.21,14.7,3,14.17,3H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V9.83 C21,9.3,20.79,8.79,20.41,8.41z M7,7h7v2H7V7z M17,17H7v-2h10V17z M17,13H7v-2h10V13z"}))),K=r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},r.a.createElement("g",null,r.a.createElement("rect",{fill:"none"}),r.a.createElement("path",{d:"M20.41,8.41l-4.83-4.83C15.21,3.21,14.7,3,14.17,3H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V9.83 C21,9.3,20.79,8.79,20.41,8.41z M7,7h7v2H7V7z M17,17H7v-2h10V17z M17,13H7v-2h10V13z"}))),Z=r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})),X=r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"})),Q=r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"})),ee=r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"})),te=r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),r.a.createElement("path",{d:"M6 19h12v2H6z"})),ne=(n(648),function(e,t){var n=function(n){e.current&&!e.current.contains(n.target)&&t()};Object(a.useEffect)((function(){return document.addEventListener("click",n),function(){document.removeEventListener("click",n)}}))}),ae=function(e){var t=Object(a.useRef)(),n=Object(a.useRef)(),o=function(){t.current.classList.add("generic-modal--closing"),setTimeout(e.closeModal,450)};return ne(n,o),r.a.createElement("div",{className:"generic-modal",ref:t},r.a.createElement("div",{className:"generic-modal__dialog",ref:n},r.a.createElement("div",{className:"generic-modal__heading"},r.a.createElement("div",{className:"generic-modal__title"},"Privacy Statement"),r.a.createElement("button",{className:"generic-modal__close btn btn-danger",onClick:function(e){return function(e){e.preventDefault(),o()}(e)}},P)),r.a.createElement("div",{className:"generic-modal__content"},e.children),r.a.createElement("div",{className:"generic-modal__footer"})))},re=function(){var e=Object(a.useState)(!1),t=Object(m.a)(e,2),n=t[0],o=t[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("button",{onClick:function(e){return function(e){e.preventDefault(),o(!0)}(e)},className:"btn btn-link"},"Privacy Statement")),n?r.a.createElement(ae,{closeModal:function(){o(!1)}},r.a.createElement("div",{className:"privacy-statement"},r.a.createElement("h2",null,"Who we are"),r.a.createElement("p",null,"Our website address is: https://thinkquic.com."),r.a.createElement("h2",null,"What personal data we collect and why we collect it"),r.a.createElement("h3",null,"Comments"),r.a.createElement("p",null,"When visitors leave comments on the site we collect the data shown in the comments form, and also the visitor\u2019s IP address and browser user agent string to help spam detection."),r.a.createElement("p",null,"An anonymized string created from your email address (also called a hash) may be provided to the Gravatar service to see if you are using it. The Gravatar service privacy policy is available here: https://automattic.com/privacy/. After approval of your comment, your profile picture is visible to the public in the context of your comment."),r.a.createElement("h3",null,"Media"),r.a.createElement("p",null,"If you upload images to the website, you should avoid uploading images with embedded location data (EXIF GPS) included. Visitors to the website can download and extract any location data from images on the website."),r.a.createElement("h3",null,"Contact forms"),r.a.createElement("h3",null,"Cookies"),r.a.createElement("p",null,"If you leave a comment on our site you may opt-in to saving your name, email address and website in cookies. These are for your convenience so that you do not have to fill in your details again when you leave another comment. These cookies will last for one year."),r.a.createElement("p",null,"If you visit our login page, we will set a temporary cookie to determine if your browser accepts cookies. This cookie contains no personal data and is discarded when you close your browser."),r.a.createElement("p",null,"When you log in, we will also set up several cookies to save your login information and your screen display choices. Login cookies last for two days, and screen options cookies last for a year. If you select \u201cRemember Me\u201d, your login will persist for two weeks. If you log out of your account, the login cookies will be removed."),r.a.createElement("p",null,"If you edit or publish an article, an additional cookie will be saved in your browser. This cookie includes no personal data and simply indicates the post ID of the article you just edited. It expires after 1 day."),r.a.createElement("h3",null,"Embedded content from other websites"),r.a.createElement("p",null,"Articles on this site may include embedded content (e.g. videos, images, articles, etc.). Embedded content from other websites behaves in the exact same way as if the visitor has visited the other website."),r.a.createElement("p",null,"These websites may collect data about you, use cookies, embed additional third-party tracking, and monitor your interaction with that embedded content, including tracking your interaction with the embedded content if you have an account and are logged in to that website."),r.a.createElement("h3",null,"Analytics"),r.a.createElement("h2",null,"Who we share your data with"),r.a.createElement("p",null,"Google Analytics"),r.a.createElement("h2",null,"How long we retain your data"),r.a.createElement("p",null,"If you leave a comment, the comment and its metadata are retained indefinitely. This is so we can recognize and approve any follow-up comments automatically instead of holding them in a moderation queue."),r.a.createElement("p",null,"For users that register on our website (if any), we also store the personal information they provide in their user profile. All users can see, edit, or delete their personal information at any time (except they cannot change their username). Website administrators can also see and edit that information."),r.a.createElement("h2",null,"What rights you have over your data"),r.a.createElement("p",null,"If you have an account on this site, or have left comments, you can request to receive an exported file of the personal data we hold about you, including any data you have provided to us. You can also request that we erase any personal data we hold about you. This does not include any data we are obliged to keep for administrative, legal, or security purposes."),r.a.createElement("h2",null,"Where we send your data"),r.a.createElement("p",null,"Visitor comments may be checked through an automated spam detection service."),r.a.createElement("h2",null,"Your contact information"),r.a.createElement("p",null,"The personal information that you are asked to provide, and the reasons why you are asked to provide it, will be made clear to you at the point we ask you to provide your personal information."),r.a.createElement("p",null,"If you contact us directly, we may receive additional information about you such as your name, email address, phone number, the contents of the message and/or attachments you may send us, and any other information you may choose to provide."),r.a.createElement("p",null,"When you register for an Account, we may ask for your contact information, including items such as name, company name, address, email address, and telephone number."),r.a.createElement("h2",null,"How we use your information"),r.a.createElement("p",null,"We use the information we collect in various ways, including to:"),r.a.createElement("p",null,"Provide, operate, and maintain our website"),r.a.createElement("p",null,"Improve, personalize, and expand our website"),r.a.createElement("p",null,"Understand and analyze how you use our website"),r.a.createElement("p",null,"Develop new products, services, features, and functionality"),r.a.createElement("p",null,"Communicate with you, either directly or through one of our partners, including for customer service, to provide you with updates and other information relating to the website, and for marketing and promotional purposes"),r.a.createElement("p",null,"Send you emails"),r.a.createElement("p",null,"Find and prevent fraud"),r.a.createElement("h2",null,"Cookies and Web Beacons"),r.a.createElement("p",null,"Like any other website, Thinkquic uses \u2018cookies\u2019. These cookies are used to store information including visitors\u2019 preferences, and the pages on the website that the visitor accessed or visited. The information is used to optimize the users\u2019 experience by customizing our web page content based on visitors\u2019 browser type and/or other information."),r.a.createElement("p",null,"For more general information on cookies, please read\xa0",r.a.createElement("a",{href:"https://www.cookieconsent.com/what-are-cookies/"},"\u201cWhat Are Cookies\u201d from Cookie Consent"),"."),r.a.createElement("h2",null,"CCPA Privacy Rights (Do Not Sell My Personal Information)"),r.a.createElement("p",null,"Under the CCPA, among other rights, California consumers have the right to:"),r.a.createElement("p",null,"request that a business that collects a consumer\u2019s personal data disclose the categories and specific pieces of personal data that a business has collected about consumers."),r.a.createElement("p",null,"request that a business delete any personal data about the consumer that a business has collected."),r.a.createElement("p",null,"request that a business that sells a consumer\u2019s personal data, not sell the consumer\u2019s personal data."),r.a.createElement("p",null,"If you make a request, we have one month to respond to you. If you would like to exercise any of these rights, please contact us."),r.a.createElement("h2",null,"GDPR Data Protection Rights"),r.a.createElement("p",null,"We would like to make sure you are fully aware of all of your data protection rights. Every user is entitled to the following:"),r.a.createElement("p",null,"The right to access \u2013 You have the right to request copies of your personal data. We may charge you a small fee for this service."),r.a.createElement("p",null,"The right to rectification \u2013 You have the right to request that we correct any information you believe is inaccurate. You also have the right to request that we complete the information you believe is incomplete."),r.a.createElement("p",null,"The right to erasure \u2013 You have the right to request that we erase your personal data, under certain conditions."),r.a.createElement("p",null,"The right to restrict processing \u2013 You have the right to request that we restrict the processing of your personal data, under certain conditions."),r.a.createElement("p",null,"The right to object to processing \u2013 You have the right to object to our processing of your personal data, under certain conditions."),r.a.createElement("p",null,"The right to data portability \u2013 You have the right to request that we transfer the data that we have collected to another organization, or directly to you, under certain conditions."),r.a.createElement("p",null,"If you make a request, we have one month to respond to you. If you would like to exercise any of these rights, please contact us."),r.a.createElement("h2",null,"Children\u2019s Information"),r.a.createElement("p",null,"Another part of our priority is adding protection for children while using the internet. We encourage parents and guardians to observe, participate in, and/or monitor and guide their online activity."),r.a.createElement("p",null,"Thinkquic does not knowingly collect any Personal Identifiable Information from children under the age of 13. If you think that your child provided this kind of information on our website, we strongly encourage you to contact us immediately and we will do our best efforts to promptly remove such information from our records."),r.a.createElement("h2",null,"Additional information"),r.a.createElement("h3",null,"How we protect your data"),r.a.createElement("h3",null,"What data breach procedures we have in place"),r.a.createElement("h3",null,"What third parties we receive data from"),r.a.createElement("h3",null,"What automated decision making and/or profiling we do with user data"),r.a.createElement("h3",null,"Industry regulatory disclosure requirements"))):null)},oe=function(e){var t=e.username,n=e.password,a=e.setUsername,o=e.setPassword,s=e.signInHandler,l=e.validatePassword,i=e.validateUsername,c=e.usernameErrors,u=e.passwordErrors,m=e.errorsAfterSubmit,d=e.setErrorsAfterSubmit,f=c.length>0?r.a.createElement("div",null,r.a.createElement("ul",null,c.map((function(e,t){return r.a.createElement("li",{className:"text-danger",key:"username-error-"+t},e)})))):null,g=u.length>0?r.a.createElement("div",null,r.a.createElement("ul",null,u.map((function(e,t){return r.a.createElement("li",{className:"text-danger",key:"password-error-"+t},e)})))):null,p=m.length>0?r.a.createElement("div",null,r.a.createElement("ul",null,m.map((function(e,t){return r.a.createElement("li",{className:"text-danger",key:"error-after-submit-"+t},e)})))):null;return r.a.createElement("div",{className:"d-flex sign-in-form-container",style:{height:"100vh"}},r.a.createElement("form",{onSubmit:function(e){s(e)},className:"sign-in-form form m-auto"},r.a.createElement("div",{className:"sign-in-form__heading"},r.a.createElement("a",{href:"https://thinkquic.com/",target:"_blank"},r.a.createElement("img",{className:"sign-in-form__logo",src:"https://thinkquic.com/wp-content/uploads/2020/10/thinkquic_logo2.png",alt:""}))),p,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement("input",{className:"form-control",type:"username",name:"username",id:"username",value:t,onChange:function(e){d([]),i(e.target.value),a(e.target.value)}})),f,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:""},"Password"),r.a.createElement("input",{className:"form-control",type:"password",name:"password",id:"password",value:n,onChange:function(e){d([]),l(e.target.value),o(e.target.value)}})),g,r.a.createElement("button",{className:"btn btn-primary sign-in-form__sign-in-button",type:"submit",id:"sign-in"},"Sign In"),r.a.createElement("p",{className:"sign-in-form__register-hint"},"Don't have an account yet? ",r.a.createElement(S.b,{to:"/register"},"Register Here")),r.a.createElement("p",{className:"sign-in-form__register-hint"},r.a.createElement(S.b,{to:"/forgot-password"},"Forgot your password?")),r.a.createElement("p",{className:"text-center mb-0"},"\xa9 2021 All Rights Reserved"),r.a.createElement(re,null)))},se=Object(C.f)((function(e){var t=e.signIn,n=e.getLoginAttempts,o=e.incrementLoginAttempts,s=(e.resetLoginAttempts,Object(a.useState)("")),l=Object(m.a)(s,2),i=l[0],c=l[1],u=Object(a.useState)(""),d=Object(m.a)(u,2),f=d[0],g=d[1],p=Object(a.useState)([]),h=Object(m.a)(p,2),v=h[0],b=h[1],E=Object(a.useState)([]),w=Object(m.a)(E,2),y=w[0],O=w[1],j=Object(a.useState)([]),N=Object(m.a)(j,2),_=N[0],k=N[1],x=function(e){b(""===e?["Username must not be empty"]:[])},C=function(e){O(""===e?["Password must not be empty"]:[])};return r.a.createElement("div",null,r.a.createElement(oe,{validatePassword:C,validateUsername:x,passwordErrors:y,usernameErrors:v,errorsAfterSubmit:_,setErrorsAfterSubmit:k,setUsername:c,setPassword:g,password:f,username:i,signInHandler:function(a){a.preventDefault(),n(i)>2?e.history.push("/forgot-password"):""!==f&&y.length<1&&""!==i&&v.length<1?t(i,f,(function(e){k([e.message]),o(i)})):(C(f),x(i))}}))})),le=function(e){var t=e.email,n=e.setEmail,a=e.username,o=e.setUsername,s=e.password,l=e.setPassword,i=e.passwordConfirmation,c=e.setPasswordConfirmation,u=e.registerHandler,m=(e.errors,e.validatePassword),d=e.passwordErrors,f=e.passwordConfirmationErrors,g=e.errorsAfterSubmit,p=e.setErrorsAfterSubmit,h=e.emailErrors,v=e.validateEmail,b=e.usernameErrors,E=e.validateUsername;return r.a.createElement("div",{className:"d-flex registration-form-container"},r.a.createElement("form",{onSubmit:function(e){u(e)},className:"registration-form form m-auto"},r.a.createElement("div",{className:"registration-form__heading"},r.a.createElement("a",{href:"https://thinkquic.com/",target:"_blank"},r.a.createElement("img",{className:"registration-form__logo",src:"https://thinkquic.com/wp-content/uploads/2020/10/thinkquic_logo2.png",alt:""}))),g.length>0?r.a.createElement("div",null,r.a.createElement("ul",null,g.map((function(e,t){return r.a.createElement("li",{className:"text-danger",key:"error-after-submit"+t},g)})))):null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{className:"form-control",type:"email",name:"email",id:"email",value:t,onChange:function(e){p([]),v(e.target.value),n(e.target.value)}})),h.length>0?r.a.createElement("div",null,r.a.createElement("ul",null,h.map((function(e,t){return r.a.createElement("li",{className:"text-danger",key:"email-error"+t},e)})))):null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement("input",{className:"form-control",type:"username",name:"username",id:"username",value:a,onChange:function(e){p([]),E(e.target.value),o(e.target.value)}})),b.length>0?r.a.createElement("div",null,r.a.createElement("ul",null,b.map((function(e,t){return r.a.createElement("li",{className:"text-danger",key:"email-error"+t},e)})))):null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:""},"Password"),r.a.createElement("input",{className:"form-control",type:"password",name:"password",id:"password",value:s,onChange:function(e){p([]),m(e.target.value),l(e.target.value)}})),d.length>0?r.a.createElement("div",null,r.a.createElement("ul",null,d.map((function(e,t){return r.a.createElement("li",{className:"text-danger",key:"password-error-"+t},e)})))):null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:""},"Confirm Password"),r.a.createElement("input",{className:"form-control",type:"password",name:"confirm-password",id:"confirm-password",value:i,onChange:function(e){p([]),c(e.target.value)}})),f.length>0?r.a.createElement("div",null,r.a.createElement("ul",null,f.map((function(e,t){return r.a.createElement("li",{className:"text-danger",key:"password-confirmation-error-"+t},e)})))):null,r.a.createElement("button",{className:"btn btn-primary registration-form__register-button",type:"submit",id:"register"},"Register"),r.a.createElement("p",{className:"registration-form__sign-in-hint"},"Already have an account? ",r.a.createElement(S.b,{to:"/sign-in"},"Login Here"))))},ie=(n(656),function(e){var t=e.verificationCode,n=e.setVerificationCode,a=e.sendVerificationHandler;return r.a.createElement("div",{className:"d-flex w-100 registration-verification-container"},r.a.createElement("form",{className:"registration-verification",onSubmit:a},r.a.createElement("p",{className:"registration-verification__hint"},"We've sent you a verification code in your email. Please enter the code below"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"verification-code"},"Verification Code"),r.a.createElement("input",{placeholder:"ex.000000",name:"verification-code",id:"verification-code",className:"form-control",value:t,onChange:function(e){n(e.target.value)},type:"text"})),r.a.createElement("button",{className:"btn btn-primary registration-verification__verify-button"},"Verify")))}),ce=(n(657),function(e){var t=e.registrationStatus,n=e.register,o=e.verifyAccount,s=Object(a.useState)(""),l=Object(m.a)(s,2),i=l[0],c=l[1],u=Object(a.useState)(""),d=Object(m.a)(u,2),f=d[0],g=d[1],p=Object(a.useState)(""),h=Object(m.a)(p,2),v=h[0],b=h[1],E=Object(a.useState)(""),w=Object(m.a)(E,2),y=w[0],O=w[1],j=Object(a.useState)(""),N=Object(m.a)(j,2),_=N[0],k=N[1],x=Object(a.useState)([]),S=Object(m.a)(x,2),I=S[0],M=(S[1],Object(a.useState)([])),F=Object(m.a)(M,2),L=F[0],A=F[1],z=Object(a.useState)([]),T=Object(m.a)(z,2),U=T[0],H=T[1],P=Object(a.useState)([]),V=Object(m.a)(P,2),D=V[0],R=V[1],q=Object(a.useState)(!1),B=Object(m.a)(q,2),$=B[0],J=B[1],W=Object(a.useState)([]),G=Object(m.a)(W,2),Y=G[0],K=G[1];Object(a.useEffect)((function(){ee()}),[v,y]);var Z=function(e){K(""===e?["Must not be empty"]:[])},X=function(e){var t=[];e.length>=9||t.push("Must have length greater than or equal to 9"),function(e){for(var t=0;t<e.length;t++)if(e[t].match(/[A-Z]/))return!0;return!1}(e)||t.push("Must have uppercase characters"),function(e){for(var t=0;t<e.length;t++)if(e[t].match(/[0-9]/))return!0;return!1}(e)||t.push("Must have numeric characters"),function(e){for(var t=0;t<e.length;t++)if(e[t].match(/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]/))return!0;return!1}(e)||t.push("Must have symbols"),A(t)},Q=function(e){R(""===e?["Must not be empty"]:[])},ee=function(){var e=[];y!==v&&e.push("Must match password"),H(e)},te=function(e){e.preventDefault(),re()&&oe()&&ne()&&ae()?n(i,f,v,y,(function(e){J([e.message])})):(X(v),ee(),Z(f),Q(i))},ne=function(){return""!==v&&L.length<1},ae=function(){return""!==y&&U.length<1},re=function(){return""!==i},oe=function(){return""!==f},se=function(e){e.preventDefault(),o(_)};return"verifying"===t?r.a.createElement(ie,{verificationCode:_,setVerificationCode:k,sendVerificationHandler:se}):"verified"===t?r.a.createElement(C.a,{to:"/sign-in"}):r.a.createElement(le,{validatePassword:X,passwordErrors:L,passwordConfirmationErrors:U,errorsAfterSubmit:$,setErrorsAfterSubmit:J,validateEmail:Q,emailErrors:D,validateUsername:Z,usernameErrors:Y,errors:I,email:i,setEmail:c,username:f,setUsername:g,passowrd:v,setPassword:b,passwordConfirmation:y,setPasswordConfirmation:O,registerHandler:te})}),ue=(n(658),function(){var e=Object(a.useContext)(k),t=e.resetPassword,n=e.confirmPassword,o=e.resetLoginAttempts,s=Object(a.useState)(""),l=Object(m.a)(s,2),i=l[0],c=l[1],u=Object(a.useState)(""),f=Object(m.a)(u,2),g=f[0],p=f[1],h=Object(a.useState)(""),v=Object(m.a)(h,2),b=v[0],E=v[1],w=Object(a.useState)(""),y=Object(m.a)(w,2),O=y[0],j=y[1],N=Object(a.useState)(!1),_=Object(m.a)(N,2),x=_[0],I=_[1],M=Object(a.useState)(!1),F=Object(m.a)(M,2),L=F[0],A=F[1],z=Object(a.useState)([]),T=Object(m.a)(z,2),U=T[0],H=T[1],P=Object(a.useState)([]),V=Object(m.a)(P,2),D=V[0],R=V[1],q=Object(a.useState)([]),B=Object(m.a)(q,2),$=B[0],J=B[1],W=Object(a.useState)([]),G=Object(m.a)(W,2),Y=G[0],K=G[1],Z=Object(a.useState)([]),X=Object(m.a)(Z,2),Q=X[0],ee=X[1],te=function(e){var t=[];return""===e&&t.push("Username must not be empty."),t},ne=function(e){var t=[];return e.length>=9||t.push("Must have length greater than or equal to 9"),function(e){for(var t=0;t<e.length;t++)if(e[t].match(/[A-Z]/))return!0;return!1}(e)||t.push("Must have uppercase characters"),function(e){for(var t=0;t<e.length;t++)if(e[t].match(/[0-9]/))return!0;return!1}(e)||t.push("Must have numeric characters"),function(e){for(var t=0;t<e.length;t++)if(e[t].match(/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]/))return!0;return!1}(e)||t.push("Must have symbols"),t},ae=function(e){var t=[];return g!==e&&t.push("Passwords must match."),t},re=function(e){var t=[];return""===e&&t.push("Verification code must not be empty"),t};return L?r.a.createElement(C.a,{to:"/sign-in"}):r.a.createElement("div",{className:"forgot-password-form-container"},r.a.createElement("form",{className:"form forgot-password-form"},r.a.createElement("div",{className:"sign-in-form__heading"},r.a.createElement("img",{className:"sign-in-form__logo",src:"https://thinkquic.com/wp-content/uploads/2020/10/thinkquic_logo2.png",alt:""})),r.a.createElement("div",{className:"text-center font-weight-bold"},"Forgot Password"),D.length<1?null:r.a.createElement("ul",null,D.map((function(e,t){return r.a.createElement("li",{className:"text-danger",key:"username-error-"+t},e)}))),x?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"form-group mt-3"},r.a.createElement("label",{htmlFor:""},"Verification Code"),r.a.createElement("input",{type:"text",className:"form-control",value:O,onChange:function(e){return function(e){j(e);var t=re(e);t.length>0?ee(Object(d.a)(t)):ee([])}(e.target.value)}}),Q.length<1?null:r.a.createElement("ul",null,Q.map((function(e,t){return r.a.createElement("li",{className:"text-danger",key:"password-verification-code-error-"+t},e)})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"New Password"),r.a.createElement("input",{type:"password",className:"form-control",value:g,onChange:function(e){return function(e){p(e);var t=ne(e);t.length>0?J(Object(d.a)(t)):J([])}(e.target.value)}}),$.length<1?null:r.a.createElement("ul",null,$.map((function(e,t){return r.a.createElement("li",{className:"text-danger",key:"username-error-"+t},e)})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:""},"Confirm New Password"),r.a.createElement("input",{type:"password",className:"form-control",value:b,onChange:function(e){return function(e){E(e);var t=ae(e);t.length>0?K(Object(d.a)(t)):K([])}(e.target.value)}}),Y.length<1?null:r.a.createElement("ul",null,Y.map((function(e,t){return r.a.createElement("li",{className:"text-danger",key:"password-confirmation-error-"+t},e)})))),r.a.createElement("button",{className:"btn btn-block btn-primary my-3",type:"button",onClick:function(){var e=ne(g),t=ae(b),a=re(O),r=[].concat(Object(d.a)(e),Object(d.a)(t),Object(d.a)(a));J(e),K(t),ee(a),r.length<1&&n(i,O,g,(function(e){e?(console.log(e),R([e.message])):(A(!0),o(i))}))}},"Reset Password")):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"form-group mt-3"},r.a.createElement("label",{htmlFor:""},"Please enter your username"),r.a.createElement("input",{className:"form-control",type:"text",value:i,onChange:function(e){return function(e){c(e);var t=te(e);t.length>0?H(Object(d.a)(t)):H([])}(e.target.value)}}),U.length<1?null:r.a.createElement("ul",null,U.map((function(e,t){return r.a.createElement("li",{className:"text-danger",key:"username-error-"+t},e)})))),r.a.createElement("button",{type:"button",className:"btn btn-primary btn-block my-3",onClick:function(){var e=te(i);e.length>0?H(Object(d.a)(e)):t(i,(function(e){e?(console.log(e),R([e.message])):I(!0)}))}},"Send verification code")),r.a.createElement("p",{className:"text-center"},r.a.createElement(S.b,{to:"/sign-in"},"Back to sign in")),r.a.createElement("p",{className:"text-center"},r.a.createElement(S.b,{to:"/register"},"Register"))))}),me=Object(a.createContext)(),de=function(e){var t=e.children,n=Object(a.useRef)(),o=E(),s=Object(a.useContext)(k),l=Object(a.useState)(null),i=Object(m.a)(l,2),c=i[0],u=i[1],d=Object(a.useState)(!1),f=Object(m.a)(d,2),g=f[0],p=f[1],h=Object(a.useState)(null),v=Object(m.a)(h,2),b=v[0],w=v[1],y=Object(a.useState)(!1),O=Object(m.a)(y,2),j=O[0],N=O[1],_=Object(a.useState)(),x=Object(m.a)(_,2),C=x[0],S=x[1],I=function(e){for(var t=e.length,n=[],a=0;a<t;a++)n.push(e[a]);return n},M=function(){w(null),n.current.value=null,S(),u(null),p(!1)};return Object(a.useEffect)((function(){b&&N(!0)}),[b]),r.a.createElement(me.Provider,{value:{fileInputRef:n,isExcelConverted:j,jsonData:b,uploadStatus:C,filename:c,isFileFromS3:g,triggerInputClick:function(){M(),n.current.click()},handleFileInputChange:function(e){var t=I(e.files);o.convertExcelToJson(t,w),u(e.files[0].name)},getFileName:function(){return c},uploadFile:function(){var e=n.current.files[0];s.uploadFile(e,s.username,S)},clearFileUploadData:M,handleS3FilePreview:function(e,t){M(),w(o.convertExcelFromS3ToJson(e)),u(t),p(!0)}}},t)},fe=(n(659),function(e){var t=e.children,n="app"===e.from?"message-bubble message-bubble--app":"message-bubble message-bubble--user";return r.a.createElement("div",{className:n},t)}),ge=function(e){var t=e.message;return r.a.createElement("div",{className:"position-relative",style:{marginRight:"-.5rem",marginLeft:"-.5rem",paddingRight:".5rem",paddingLeft:".5rem"}},r.a.createElement("div",{className:"overlay"}),t)},pe=(n(660),n(44)),he=(n(755),function(e){var t=e.text,n=e.icon,a=e.onClickHandler,o=function(){(0,window.$)("body").find('[data-toggle="tooltip"]').tooltip("hide")};return r.a.createElement("button",{onMouseEnter:function(e){var t;t=e,(0,window.$)(t.target).tooltip("show")},onMouseLeave:function(e){o()},className:"btn btn-secondary button-icon-tooltip",onClick:function(){a(),o()},"data-toggle":"tooltip","data-placement":"right",title:t},n)}),ve=function(e){var t=e.viewOptions,n=e.content;return r.a.createElement("div",{className:"aggregation-ui"},r.a.createElement("div",{className:"aggregation-ui__options"},t),r.a.createElement("div",{className:"aggregation-ui__content"},n))},be=function(e){var t=e.aggregationData,n=Object(a.useState)("default"),o=Object(m.a)(n,2),s=o[0],i=o[1],c=function(e){return r.a.createElement("div",{className:"aggregation-ui__headings"},e.grouping?r.a.createElement("div",{className:"aggregation-ui__data-grouping"},e.grouping):null,r.a.createElement("div",{className:"aggregation-ui__data-heading"},e.heading))},u=function(e){var t=function(e){if("text"===e.aggregationType){for(var t=[],n=0;n<e.data.length;n++)t.push(e.data[n].key);return t}return Object.keys(e.data)},n=function(e){var t=function(e){var t="";return isNaN(e)?e.includes("$")?(t=e.replace("$","").trim(),parseFloat(t)):e.includes("sq ft")?(t=e.replace("sq ft").trim(),parseFloat(t)):e.includes("sq. ft.")?(t=e.replace("sq. ft.").trim(),parseFloat(t)):e:e};if("text"===e.aggregationType){for(var n=[],a=0;a<e.data.length;a++)n.push(e.data[a].doc_count);return n}for(var r=Object.keys(e.data),o=[],s=0;s<r.length;s++)o.push(t(e.data[r[s]]));return o},a=function(e){return{label:"Dataset 1",borderColor:"rgb(255, 99, 132)",borderWidth:1,data:n(e)}},o={maintainAspectRation:!1,responsive:!0,legend:{display:!1},tooltips:{callbacks:{label:function(e){return e.yLabel}}}};switch(s){case"line":var i={labels:t(e),datasets:[Object(l.a)(Object(l.a)({},a(e)),{},{backgroundColor:"rgb(255, 99, 132)"})]};return r.a.createElement(pe.Line,{data:i,options:o});case"bar":var c={labels:t(e),datasets:[Object(l.a)(Object(l.a)({},a(e)),{},{backgroundColor:"rgb(255, 99, 132)"})]};return r.a.createElement(pe.Bar,{data:c,options:o});case"pie":var u={labels:t(e),datasets:[a(e)]};return r.a.createElement(pe.Pie,{data:u});case"doughnut":var m={labels:t(e),datasets:[a(e)]};return r.a.createElement(pe.Doughnut,{data:m});default:return d(e)}},d=function(e){if("text"===e.aggregationType)return r.a.createElement("div",null,r.a.createElement("table",{className:"table table--in-message"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,e.heading),r.a.createElement("th",null,"doc_count"))),r.a.createElement("tbody",null,e.data.map((function(e,t){return r.a.createElement("tr",{key:"aggregation-array-type-index"+t},r.a.createElement("td",null,e.key),r.a.createElement("td",null,e.doc_count))})))));var n=Object.keys(e.data);return r.a.createElement("div",null,r.a.createElement("table",{className:"table table--in-message"},r.a.createElement("tbody",null,n.map((function(e,n){return r.a.createElement("tr",{key:"aggregation-stat-key-index-"+n},r.a.createElement("th",null,e),r.a.createElement("td",null,t.stats[e]))})))))};return r.a.createElement(ve,{viewOptions:[{id:"default",text:"default view",icon:$,clickHandler:function(){i("default")}},{id:"pie",text:"pie chart",icon:R,clickHandler:function(){i("pie")}},{id:"line",text:"line chart",icon:q,clickHandler:function(){i("line")}},{id:"bar",text:"bar chart",icon:D,clickHandler:function(){i("bar")}},{id:"doughnut",text:"doughnut chart",icon:B,clickHandler:function(){i("doughnut")}}].filter((function(e){return e.id!==s})).map((function(e,t){return r.a.createElement(he,{key:"option-button-"+e.text,icon:e.icon,text:e.text,onClickHandler:e.clickHandler})})),content:function(){var e=function(e){return Array.isArray(e.stats)?"text":"non-text"}(t),n=Object(l.a)({aggregationType:e},function(e){return{heading:e.stats_key,grouping:function(){for(var t=Object.keys(e),n=0;n<t.length;n++)if("stats"!==t[n]&&"stats_key"!==t[n])return t[n];return null}(),data:e.stats}}(t));return r.a.createElement("div",null,c(n),u(n))}()})},Ee=(n(756),n(757),function(e){var t=e.label,n=e.items,o=e.itemsFilter,s=e.selectedItems,l=e.setSelectedItems,i=e.type,c=Object(a.useRef)(),u=n.filter((function(e){return!o.includes(e)})).map((function(e,t){return r.a.createElement("option",{className:"select-items__dropdown-item",value:e,key:"dropdown-item-"+t},e)})),m=s.map((function(e,t){return r.a.createElement("span",{className:"select-items__selected-item",key:"selected-item-"+t},r.a.createElement("span",{className:"select-items__selected-item-text"},e),r.a.createElement("button",{className:"select-items__remove-selected-item",onClick:function(){return f(e)}},"x"))})),f=function(e){var t=s.filter((function(t){return t!==e}));l(t)};return r.a.createElement("div",{className:"select-items"},r.a.createElement("div",{className:"select-items__title"},t),r.a.createElement("label",{htmlFor:"select-items",className:"d-none"},t),r.a.createElement("select",{name:"select-items",className:"form-control select-items__dropdown",onChange:function(e){var t;"default"!==(t=e.target.value)&&(l([].concat(Object(d.a)(s),[t])),c.current.value="default")},defaultValue:"default",ref:c},function(e){return e.length<1?r.a.createElement("option",{className:"select-items__dropdown-item",value:"default",disabled:!0},"single"===i?"selected: "+s[0]:"All items have been selected"):r.a.createElement("option",{className:"select-items__dropdown-item",value:"default",disabled:!0},"Add an item")}(u),u),r.a.createElement("div",{className:"select-items__selected-items"},m))}),we=function(e){var t=e.name,n=e.viewToggle,a=e.content;return r.a.createElement("div",{className:"data-ui"},r.a.createElement("div",{className:"data-ui__name"},t),r.a.createElement("div",{className:"data-ui__options"},r.a.createElement("span",{className:"data-ui__options-label"},"Toggle View: "),r.a.createElement("button",{className:"btn btn-outline-info mx-3",onClick:n.clickHandler},n.text)),r.a.createElement("div",{className:"data-ui__content"},a))};function ye(e){var t=[];return function e(t,r){for(var o=Object.keys(t),s=0;s<o.length;s++)if(n(t))e(t[o[s]],r);else{var l=a(t[o[s]]);if(Array.isArray(l))for(var i=0;i<l.length;i++)r.push(l[i]);else r.push(l)}}(e,t),t;function n(e){var t=e[Object.keys(e)[0]];return!!Object.keys(t)[0].toLocaleLowerCase().includes("aggregation")}function a(e){switch(function(e){var t=Object.keys(e)[0];return t.toLocaleLowerCase().includes("statistics")?"statistics":t.toLocaleLowerCase().includes("group")?"grouping":"unsupported"}(e)){case"statistics":return function(e){var t=Object.keys(e)[0];return e[t]}(e);case"grouping":return function(e){for(var t=[],n=Object.keys(e),a=0;a<n.length;a++)t.push(e[n[a]]);return t}(e);default:console.log("unsupported")}}}var Oe=function(e){if(e.length<1)return null;var t=[],n=[],a=[],r=function(t){for(var n=0;n<e.length;n++){var a=Object.keys(e[n])[0],r=e[n][a];if(!Object.keys(r).includes(t))return!1}return!0};!function(){var t=Object.keys(e[0])[0],a=Object.keys(e[0][t]);n=Object(d.a)(a)}(),function(){for(var e=0;e<n.length;e++)r(n[e])&&t.push(n[e])}(),function(){for(var n=0;n<e.length;n++){var r=Object.keys(e[n])[0],o=e[n][r],s={};s.label=r;for(var l=0;l<t.length;l++)s[t[l]]=o[t[l]];a.push(s)}}(),a=[];for(var o=0;o<e.length;o++){var s=Object.keys(e[o])[0];a.push(e[o][s])}return a},je=function(e){var t=e.data,n=Object(a.useState)(),o=Object(m.a)(n,2),s=o[0],l=o[1],i=Object(a.useState)([]),c=Object(m.a)(i,2),u=c[0],f=c[1],g=Object(a.useState)([]),p=Object(m.a)(g,2),h=p[0],v=p[1],b=Object(a.useState)("any"),E=Object(m.a)(b,2),w=E[0],y=E[1],O=Object(a.useState)([]),j=Object(m.a)(O,2),N=j[0],_=j[1],k=Object(a.useState)([]),x=Object(m.a)(k,2),C=x[0],S=x[1],I=Object(a.useState)("table"),M=Object(m.a)(I,2),F=M[0],L=M[1],A=function(){return Object.keys(t[0])},z=function(){var e,t;return["rgba(255, 99, 132, 1)","rgba(255, 159, 64, 1)","rgba(255, 205, 86, 1)","rgba(75, 192, 192, 1)","rgba(54, 162, 235, 1)","rgba(153, 102, 255, 1)","rgba(201, 203, 207, 1)"][(e=0,t=5,Math.floor(Math.random()*(t-e+1))+e)]},T=function(e){var t="";return isNaN(e)?e.includes("$")?(t=e.replace("$","").trim(),parseFloat(t)):e.includes("sq ft")?(t=e.replace("sq ft").trim(),parseFloat(t)):e.includes("sq. ft.")?(t=e.replace("sq. ft.").trim(),parseFloat(t)):e:e},U=function(e){S([]),v([]),f([]),l(e)},H=function(e){for(var n=[],a=0;a<t.length;a++)n.includes(t[a][e])||n.push(t[a][e]);return n},P=function(){for(var e={},t=0;t<u.length;t++)e[u[t]]=H(u[t]);return e},V=function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];return t},D=function(e,n){for(var a=[],r=0;r<t.length;r++)T(t[r][e])===n&&a.push(T(t[r][h[0]]));switch(N[0]){case"min":return function(e){return Math.min.apply(Math,Object(d.a)(e))}(a);case"max":return function(e){return Math.max.apply(Math,Object(d.a)(e))}(a);case"average":return function(e){return e.length?V(e)/e.length:0}(a);case"sum":default:return V(a)}},R=function(){return r.a.createElement(r.a.Fragment,null,function(){var e="btn btn-primary mx-1 mb-2",t="btn btn-outline-primary mx-1 mb-2";return r.a.createElement("div",null,r.a.createElement("div",{className:"py-2"},"Select Chart type:"),r.a.createElement("button",{className:"Pie"===s?e:t,onClick:function(){return U("Pie")}},"Pie"),r.a.createElement("button",{className:"Doughnut"===s?e:t,onClick:function(){return U("Doughnut")}},"Doughnut"),r.a.createElement("button",{className:"Bar"===s?e:t,onClick:function(){return U("Bar")}},"Bar"),r.a.createElement("button",{className:"Line"===s?e:t,onClick:function(){return U("Line")}},"Line"))}(),function(e){return"Bar"===e||"Line"===e?r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee,{info:(t=w,"any"===t?null:"You have selected "+t+" type for x-axis. Only one type can be selected."),label:"Fields for x-axis:",items:$(w),itemsFilter:[].concat(Object(d.a)(u),Object(d.a)(h)),selectedItems:u,setSelectedItems:f}),r.a.createElement(Ee,{type:"single",label:"Fields for y-axis:",items:h.length<1?$("numeric"):[],itemsFilter:[].concat(Object(d.a)(u),Object(d.a)(h)),selectedItems:h,setSelectedItems:v}),r.a.createElement(Ee,{type:"single",label:"Select Y-axis aggregation type",items:N.length<1?["min","max","sum","average"]:[],itemsFilter:[],selectedItems:N,setSelectedItems:_})):"Doughnut"===e||"Pie"===e?r.a.createElement(Ee,{label:"Fields:",items:A().filter((function(e){return"label"!==e})),itemsFilter:Object(d.a)(C),selectedItems:C,setSelectedItems:S}):null;var t}(s),r.a.createElement("div",{className:"data-ui__chart-container"},function(){if("Pie"===s&&C.length>0){for(var e,n=[],a=[],o=0;o<t.length;o++)n.push(o+1);for(var l=0;l<C.length;l++){for(var i=[],c=0;c<t.length;c++)i.push(T(t[c][C[l]]));a.push({label:C[l],borderColor:"rgb(255, 99, 132)",borderWidth:1,data:i})}return e={labels:n,datasets:a},console.log(e),r.a.createElement(pe.Pie,{data:e})}if("Doughnut"===s&&C.length>0){for(var m,d=[],f=[],g=0;g<t.length;g++)d.push(g+1);for(var p=0;p<C.length;p++){for(var v=[],b=0;b<t.length;b++)v.push(T(t[b][C[p]]));f.push({label:C[p],borderColor:"rgb(255, 99, 132)",borderWidth:1,data:v})}return m={labels:d,datasets:f},r.a.createElement(pe.Doughnut,{data:m})}if("Line"===s&&u.length>0&&h.length&&N.length){for(var E,w=[],y=[],O=[],j=P(),_=Object.keys(j),k=0;k<_.length;k++)for(var x=j[_[k]],S=0;S<x.length;S++)w.push(_[k]+":"+T(x[S])),O.push(D(_[k],T(x[S])));y.push({label:h[0]+":"+N[0],borderWidth:1,data:O,backgroundColor:z()});return E={labels:w,datasets:y},r.a.createElement(pe.Line,{data:E,options:{maintainAspectRation:!1,responsive:!0,legend:{display:!0},tooltips:{callbacks:{label:function(e){return e.yLabel}}},scales:{yAxes:[{ticks:{beginAtZero:!0,min:0,callback:function(e){if(e%1===0)return e}}}]}},redraw:!0})}if("Bar"===s&&u.length>0&&h.length&&N.length){for(var I,M=[],F=[],L=[],A=P(),U=Object.keys(A),H=0;H<U.length;H++)for(var V=A[U[H]],R=0;R<V.length;R++)M.push(U[H]+":"+T(V[R])),L.push(D(U[H],T(V[R])));F.push({label:h[0]+":"+N[0],borderWidth:1,data:L,backgroundColor:z()});return I={labels:M,datasets:F},r.a.createElement(pe.Bar,{data:I,options:{maintainAspectRation:!1,responsive:!0,legend:{display:!0},tooltips:{callbacks:{label:function(e){return e.yLabel}}},scales:{yAxes:[{ticks:{beginAtZero:!0,min:0,callback:function(e){if(e%1===0)return e}}}]}},redraw:!0})}return null}()))},q=function(){"chart"===F?(l(null),S([]),f([]),v([]),L("table")):(l(null),S([]),f([]),v([]),L("chart"))},B=function(e){var n=t[0];return!isNaN(T(n[e]))},$=function(e){for(var t=A(),n=[],a=[],r=0;r<t.length;r++)B(t[r])?n.push(t[r]):a.push(t[r]);return"numeric"===e?n:"string"===e?a:t};return Object(a.useEffect)((function(){u.length<1?y("any"):B(u[0])?y("numeric"):y("string")}),[u]),r.a.createElement(we,{name:"Data",viewToggle:"table"===F?{text:"Chart",clickHandler:q}:{text:"Table",clickHandler:q},content:"table"===F?r.a.createElement("div",{className:"in-message-table-container"},r.a.createElement("table",{className:"table table--in-message w-100"},r.a.createElement("thead",null,r.a.createElement("tr",null,A().map((function(e,t){return r.a.createElement("th",{key:"data-heading-"+t},e)})))),r.a.createElement("tbody",null,t.map((function(e,t){return r.a.createElement("tr",{key:"data-row-"+t},A().map((function(t,n){return r.a.createElement("td",{key:"column-data-"+n},e[t])})))}))))):R()})},Ne=function(e){var t=e.aggregations,n=e.data,a=e.buttons,o=e.texts;return r.a.createElement("div",null,t,n,o,a)},_e=function(e){var t=Object(a.useContext)(k),n=t.messages,o=t.setMessages,s=function(e){var t=JSON.parse(e).Result,n=t.Chart;return{aggregations:n.Aggregation||n.Aggregations,data:n.Data,buttons:t.Button,texts:t.Text}}(e.message),l=s.aggregations,i=s.data,c=s.buttons,u=s.texts;return r.a.createElement(Ne,{aggregations:function(e){return ye(e).map((function(e,t){return r.a.createElement(be,{aggregationData:e,key:t})}))}(l),data:function(e){return e.length<1?null:r.a.createElement(je,{data:Oe(e)})}(i),buttons:function(e){return r.a.createElement("div",{className:"buttons position-relative",style:{marginRight:"-.5rem",marginLeft:"-.5rem",paddingRight:".5rem",paddingLeft:".5rem"}},r.a.createElement("div",{className:"overlay overlay--buttons"}),e.map((function(e,t){var a=Object.keys(e);return r.a.createElement("button",{onClick:function(){o([].concat(Object(d.a)(n),[{from:"user",message:e[a].value}]))},key:t,className:"btn btn-success mx-1 mb-2"},e[a].key)})))}(c),texts:function(e){return r.a.createElement("div",{className:"py-4 position-relative",style:{marginRight:"-.5rem",marginLeft:"-.5rem",paddingRight:".5rem",paddingLeft:".5rem"}},r.a.createElement("div",{className:"overlay overlay--texts"}),e.map((function(e,t){var n=Object.keys(e);return r.a.createElement("div",{key:t},e[n].value)})))}(u)})},ke=function(e){var t=e.message,n=e.isLast,o=Object(a.useRef)();Object(a.useEffect)((function(){o.current&&setTimeout((function(){o.current&&o.current.scrollIntoView({block:"end",behavior:"smooth"})}),100)}),[]);var s=n?" message--last":"";return r.a.createElement("div",{className:"message"+s,ref:o},r.a.createElement(fe,{from:t.from},function(e){try{JSON.parse(e)}catch(t){return!1}return!0}(t.message)?r.a.createElement(_e,{message:t.message}):r.a.createElement(ge,{message:t.message})),";")},xe=function(){var e=Object(a.useContext)(k),t=e.messages,n=(e.isWaiting,function(e){return e+1===t.length});return r.a.createElement("div",{className:"messages-container"},t.map((function(e,t){return r.a.createElement(ke,{isLast:n(t),key:t,index:t,message:e})})))},Ce=(n(758),function(e){var t=e.children;return r.a.createElement("div",{className:"conversation"},t)}),Se=function(e){var t=Object(a.useState)(null),n=Object(m.a)(t,2),r=n[0],o=n[1],s=Object(a.useState)(null),l=Object(m.a)(s,2),i=l[0],c=l[1],u=Object(a.useState)(null),d=Object(m.a)(u,2),f=d[0],g=d[1];Object(a.useEffect)((function(){e&&i&&p()}),[e,i]);var p=function(){g(i.getColumnState())};return{gridApi:r,setGridApi:o,gridColumnApi:i,setGridColumnApi:c,columnState:f,setColumnState:g,onGridReady:function(e){o(e.api),c(e.columnApi)},saveColumnState:p,restoreColumnState:function(){i.applyColumnState({state:f})},resetState:function(){i.resetColumnState(),console.log(i.getColumnState())},onColumnMoved:function(e){console.log("Event Column Moved",e)},onColumnVisible:function(e){p()}}},Ie=(n(759),n(133)),Me=(n(767),n(768),function(e){var t=e.jsonData,n=e.onGridReady,a=e.onColumnVisible;return r.a.createElement("div",{className:"ag-table__container ag-theme-balham",style:{height:"calc(100% - 54px)",width:"100%"}},r.a.createElement(Ie.AgGridReact,{rowData:t.rowData,rowSelection:"multiple",onGridReady:n,onColumnVisible:a},t.columnDefs.map((function(e,t){return r.a.createElement(Ie.AgGridColumn,{key:t,field:e.field,sortable:!0,filter:!0})}))))}),Fe=(n(769),function(e){var t=e.setIsTableVisible,n=e.setIsTableToggleVisible,o=Object(a.useContext)(me),s=(Object(a.useContext)(k),Se(o.jsonData)),l=s.onGridReady,i=s.onColumnVisible,c=Object(a.useState)(!1),u=Object(m.a)(c,2),d=u[0],f=u[1],g=d?" file-preview-table--fullscreen":"",p=d?Q:X,h="success"===o.uploadStatus||o.isFileFromS3?null:r.a.createElement("button",{className:"file-preview-table__button file-preview-table__button--upload",onClick:function(){o.uploadFile(),t(!1)}},ee);return r.a.createElement("div",{className:"file-preview-table"+g},r.a.createElement("div",{className:"file-preview-table__heading"},(o.uploadStatus,null),h,r.a.createElement("div",{className:"file-preview-table__filename"},o.getFileName()),r.a.createElement("button",{className:"file-preview-table__button file-preview-table__button--minimize",onClick:function(){t(!1)}},te),r.a.createElement("button",{className:"file-preview-table__button file-preview-table__button--fullscreen-toggle",onClick:function(){f(!d)}},p),r.a.createElement("button",{className:"file-preview-table__button file-preview-table__button--close",onClick:function(){t(!1),n(!1),o.clearFileUploadData()}},P)),o.jsonData?r.a.createElement(Me,{jsonData:o.jsonData,onGridReady:l,onColumnVisible:i}):null)}),Le=function(e){var t=e.signOutHandler;return r.a.createElement("button",{className:"btn btn-success",onClick:function(){return t()}},"Sign Out")},Ae=function(){var e=new Date(Date.now());return e.getMonth()+1+"/"+e.getDate()+"/"+e.getFullYear()},ze=function(e){var t=e.username,n=e.openChangePassword,a=e.email;return r.a.createElement("div",{className:"account-info"},r.a.createElement("div",{className:"font-weight-bold text-center"},"My Profile"),r.a.createElement("div",{className:"py-2 d-flex justify-content-center align-items-center"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",style:{width:"8rem",fill:"white"}},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"}))),r.a.createElement("div",{className:"py-2"},"Username: ",r.a.createElement("strong",null,t)),r.a.createElement("div",{className:"py-2"},"Email: ",r.a.createElement("strong",null,a)),r.a.createElement("div",{className:"py-2"},"Joined: ",r.a.createElement("strong",null,Ae())),r.a.createElement("div",{className:"py-2"},"Last login: ",r.a.createElement("strong",null,Ae())),r.a.createElement("div",{className:"py-2"},r.a.createElement("button",{className:"btn btn-block btn-primary",onClick:n},"Change Password")))},Te=(n(770),function(e){var t=e.children,n=e.theme,o=Object(a.useState)(!0),s=Object(m.a)(o,2),l=s[0],i=s[1],c=l?"header__collapse":"header__collapse header__collapse--active",u="theme-two"===n?"./images/thinkquick-logo-attemp-white-01.png":"./images/thinkquick-logo-attemp-01.png";return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"header__brand"},r.a.createElement("a",{href:"https://thinkquic.com/",target:"_blank"},r.a.createElement("img",{className:"header__brand-logo",src:u,alt:""})),r.a.createElement("span",{className:"header__brand-text sr-only"},"Thinkquic")),r.a.createElement("button",{onClick:function(){i(!l)},className:"header__menu-toggle"},z),r.a.createElement("div",{className:c},r.a.createElement("div",{className:"header__user-utilities"},t)))}),Ue=function(e){var t=e.children;return r.a.createElement("div",{className:"header__item"},t)},He=(n(771),function(e){var t=e.children,n=e.isActive,a=e.setIsActive,o=e.toggle,s=n?"dropdown__items dropdown__items--active":"dropdown__items",l=n?"dropdown dropdown--active":"dropdown";return r.a.createElement("div",{className:l},r.a.createElement("div",{onClick:function(){return a(!n)}},o),r.a.createElement("div",{className:s},t))}),Pe=function(e){var t=e.clickHandler,n=e.icon,a=e.text;return r.a.createElement("button",{className:"btn btn-link text-white d-flex align-items-center",onClick:t},n,r.a.createElement("span",null,a))},Ve=(n(772),function(e){var t=e.isRightSidebarOpen,n=e.closeRightSidebar,a=e.rightSidebarContent,o=t?"right-sidebar right-sidebar--active":"right-sidebar";return o=e.isMobile?o+" right-sidebar--is-mobile":o,r.a.createElement("div",{className:o},r.a.createElement("button",{onClick:n,className:"right-sidebar__close"},P),r.a.createElement("div",{className:"right-sidebar__content"},a))}),De=(n(773),function(e){var t=e.children;return r.a.createElement("div",{className:"sidebar"},t)}),Re=(n(774),function(e){var t=e.icon,n=e.tooltipText,a=e.clickHandler,o=e.position,s="sidebar-item";return o&&"bottom"===o&&(s="sidebar-item sidebar-item--bottom"),r.a.createElement("div",{className:s},r.a.createElement("button",{className:"sidebar-item__button",onClick:a},t),r.a.createElement("div",{className:"sidebar-item__tooltip"},n))}),qe=(n(775),function(e){var t=e.children;return r.a.createElement("div",{className:"main"},t)}),Be=function(){var e=Object(a.useContext)(me);return r.a.createElement("form",{className:"upload-file__form",action:"/action_page.php"},r.a.createElement("label",{className:"sr-only",htmlFor:"myfile"},"Select a file:"),r.a.createElement("input",{ref:e.fileInputRef,onChange:function(t){return n=t.target,void e.handleFileInputChange(n);var n},className:"d-none",type:"file",id:"myfile",name:"myfile"}))},$e=(n(776),function(e){var t=e.type,n=e.text,o=e.onClick,s=e.deleteFile,l=Object(a.useState)(!1),i=Object(m.a)(l,2),c=i[0],u=i[1],d=function(){o&&o(n)},f=c?"file__options-list file__options-list--is-open":"file__options-list";return r.a.createElement("div",{className:"file",onClick:d},r.a.createElement("div",{className:"file__icon"},function(){if("folder"===t)return J;var e=n.split("."),a=e[e.length-1];return"csv"===a||"xlsx"===a?W:"html"===a?G:"js"===a?Y:K}()),r.a.createElement("div",{className:"file__name"},n),r.a.createElement("div",{className:f},r.a.createElement("button",{className:"btn btn-sm btn-success file__option",onClick:function(e){return function(e){e.stopPropagation(),d()}(e)}},"open"),r.a.createElement("button",{className:"btn btn-sm btn-danger file__option",onClick:function(e){return function(e){e.stopPropagation(),u(!1),s(n)}(e)}},"delete")),r.a.createElement("button",{className:"file__options-toggle",onClick:function(e){return function(e){e.stopPropagation(),u(!c)}(e)}},Z))}),Je=(n(777),function(e){var t=e.text;return r.a.createElement("div",{className:"file-uploading"},r.a.createElement("div",{className:"file-uploading__notifications"},r.a.createElement("span",{className:"file-uploading__message"},"Uploading"),r.a.createElement("div",{className:"file-uploading__spinner spinner-border text-light",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))),r.a.createElement("div",{className:"file-uploading__file"},r.a.createElement("span",{className:"file-uploading__icon"},K),r.a.createElement("span",{className:"file-uploading__filename"},t)))}),We=(n(778),function(e){var t=e.text,n=e.removeFileFromFileUploadErrors;return r.a.createElement("div",{className:"file-upload-error"},r.a.createElement("div",{className:"file-upload-error__notification"},r.a.createElement("span",{className:"file-upload-error__message"},"Upload Error"),r.a.createElement("button",{className:"file-upload-error__close-button",onClick:n},P)),r.a.createElement("div",{className:"file-upload-error__file"},r.a.createElement("span",{className:"file-upload-error__icon"},K),r.a.createElement("span",{className:"file-upload-error__filename"},t)))}),Ge=function(e){var t=e.searchString,n=e.setSearchString,a=e.files,o=e.folders,s=e.isFilesListVisible,l=e.toggleIsFilesListVisible,i=e.onFolderClick,c=e.onFileClick,u=e.deleteFile,m=e.pendingFileUploads,d=e.fileUploadErrors,f=e.removeFileFromFileUploadErrors,g=s?"files-list files-list--visible":"files-list";return r.a.createElement("div",{className:g},r.a.createElement("div",{className:"files-list__header"},r.a.createElement("span",{className:"files-list__heading"},"Files"),r.a.createElement("button",{className:"files-list__close-button",onClick:l},P)),r.a.createElement("input",{placeholder:"search files",value:t,onChange:function(e){return n(e.target.value)},className:"form-control files-list__search"}),e.children,r.a.createElement("div",{className:"files-list__items"},m.map((function(e,t){return r.a.createElement(Je,{key:e+"-"+t,text:e})})),d.map((function(e,t){return r.a.createElement(We,{key:e+"-"+t,text:e,removeFileFromFileUploadErrors:function(){return f(d)}})})),o.map((function(e,n){return e.includes(t)?r.a.createElement($e,{onClick:i,deleteFile:u,text:e,type:"folder",key:"folder-"+{folderName:e}+"-"+n}):null})),a.map((function(e,n){return e.includes(t)?r.a.createElement($e,{onClick:c,deleteFile:u,text:e,type:"file",key:"file-"+{fileName:e}+"-"+n}):null}))))},Ye=function(e){var t=e.isFilesListVisible,n=e.toggleIsFilesListVisible,o=Object(a.useContext)(k),s=(o.setJsonDataFile,o.files),l=o.folders,i=o.currentDirectoryPath,f=o.setCurrentDirectoryPath,g=o.getFile,p=o.deleteFile,h=o.pendingFileUploads,v=o.fileUploadErrors,b=o.removeFileFromFileUploadErrors,w=Object(a.useContext)(me),y=(E().convertExcelFromS3ToJson,Object(a.useState)("")),O=Object(m.a)(y,2),j=O[0],N=O[1],_=function(){var e="";return i.forEach((function(t){e+=t+"/"})),e},x=function(){var e=Object(u.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null,!t.includes(".csv")&&!t.includes(".xlsx")){e.next=9;break}return e.next=4,g(_()+t);case 4:a=e.sent,w.handleS3FilePreview(a.Body,t),n(),e.next=10;break;case 9:return e.abrupt("return");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(e){var t=[];if(!(i.length<1&&0===e)&&(i.length>1&&0===e&&f([]),i.length!==e)){for(var n=0;n<e;n++)t.push(i[n]);f(t)}};return r.a.createElement(Ge,{toggleIsFilesListVisible:n,isFilesListVisible:t,files:s,folders:l,searchString:j,setSearchString:N,onFolderClick:function(e){f([].concat(Object(d.a)(i),[e]))},onFileClick:x,deleteFile:p,pendingFileUploads:h,fileUploadErrors:v,removeFileFromFileUploadErrors:b},function(){var e=["Home"].concat(Object(d.a)(i)),t=e.map((function(t,n){return n<e.length-1?r.a.createElement("li",{className:"breadcrumb__item breadcrumb__item--active",onClick:function(){return C(n)},key:n},t):r.a.createElement("li",{className:"breadcrumb__item",onClick:function(){return C(n)},key:n},t)}));return r.a.createElement("nav",{"aria-label":"breadcrumb"},r.a.createElement("ol",{className:"breadcrumb"},t))}())},Ke=(n(779),function(e){var t=e.columnNames,n=e.userInput,a=e.setMessage,o=e.textInputRef,s=function(){var e=n.split(" ");return e[e.length-1]},l=function(e,t){if(""===t)return!0;for(var n=t.length,a=0;a<n;a++)if(t[a]!==e[a])return!1;return!0},i=function(e){var t=function(){for(var e="",t=n.split(" "),a=0;a<t.length-1;a++)e+=t[a]+" ";return e.trim()}()+" "+e;a(t),o.focus()};return r.a.createElement("div",{className:"input-suggestions"},!t||n.split(" ").length<2?null:t.map((function(e,t){return function(e){return s()!==e&&l(e,s())}(e)?r.a.createElement("button",{onClick:function(){return i(e)},className:"input-suggestions__suggestion",key:e+"-"+t},e):null})))}),Ze=function(e){var t=e.pushChat,n=e.username,o=e.botName,s=e.botAlias,l=(e.sessionAttributes,Object(a.useRef)()),i=Object(a.useContext)(k),c=i.messages,u=i.setMessages,f=i.isPreviousMessagesLoaded,g=(i.setIsWaiting,Object(a.useState)("")),p=Object(m.a)(g,2),h=p[0],v=p[1],b=Object(a.useState)(!1),E=Object(m.a)(b,2),w=E[0],y=E[1],O=Object(a.useState)("passive"),j=Object(m.a)(O,2),N=j[0],_=j[1],x=Object(a.useState)(!1),C=Object(m.a)(x,2),S=C[0],I=C[1],M=Object(a.useState)(!0),F=Object(m.a)(M,2),L=F[0],A=F[1],z=Object(a.useRef)("passive"),T=Object(a.useRef)(0);Object(a.useEffect)((function(){var e=function(){return c[c.length-1]},n=function(e){"error"!==e?B(e)&&!$(e)?u([].concat(Object(d.a)(c),[{from:"app",message:"Oops something went wrong."}])):(T.current=0,u([].concat(Object(d.a)(c),[{from:"app",message:e}]))):u([].concat(Object(d.a)(c),[{from:"app",message:"Your request didn\u2019t get processed, Please go through the below steps",type:"error"}]))};P()&&V()&&f&&("voice"===c[c.length-1].platform||t(c[c.length-1].message,n)),P()&&J(e())&&"error"===e().type&&(T.current||(T.current+=1,t("hi",n)))}),[c]),Object(a.useEffect)((function(){"passive"===N?(A(!0),I(!1)):(A(!1),I(!0))}),[N]),Object(a.useEffect)((function(){!w||"listening"!==N&&"passive"!==N||(U.reset(),_("passive"),y(!1))}),[N,w]);var U,H={lexConfig:{botName:o,botAlias:s,userId:n}};try{U=new window.LexAudio.conversation(H,(function(e){"Listening"===e&&(_("listening"),z.current="listening"),"Sending"===e&&(z.current="sending",_("sending")),"Speaking"===e&&(z.current="speaking",_("speaking")),"Passive"===e&&(z.current="passive",_("passive"))}),(function(e){var t=e.message.replace(/(\r\n|\n|\r)/g,"");u((function(n){return[].concat(Object(d.a)(n),[{from:"user",message:e.inputTranscript,platform:"voice"},{from:"app",message:t}])}))}),(function(e){u((function(e){return[].concat(Object(d.a)(e),[{from:"app",message:"Oops! Something went wrong. Please try saying that again."}])}))}),(function(e,t){}))}catch(K){u([].concat(Object(d.a)(c),[{from:"app",message:"Oops! Something went wrong"}]))}var P=function(){return c.length>0},V=function(){return"user"===c[c.length-1].from},D=function(e){for(var t=[],n=0;n<e.length;n++){var a=Object.keys(e[n]);t.push(e[n][a].value)}return t},R=function(e){return Object.keys(e).includes("Column")},q=function(e){return JSON.parse(e).Result},B=function(e){try{JSON.parse(e)}catch(K){return!1}return!0},$=function(e){if(!B(e))return!1;var t=JSON.parse(e);return t.Result?t.Result.Chart?t.Result.Chart.Aggregation?t.Result.Chart.Data?t.Result.Button?!!t.Result.Text||(console.log("no text property"),!1):(console.log("no button property"),!1):(console.log("no data property"),!1):(console.log("no aggregation property"),!1):(console.log("no chart property"),!1):(console.log("no result property"),!1)},J=function(e){return JSON.stringify(e.from)===JSON.stringify("app")},W=S?r.a.createElement("button",{onClick:function(){y(!0)},className:"btn query-box__button",style:{background:"red",display:"flex",alignItems:"center"}},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M6 6h12v12H6z"}))):null,G="passive"!==N,Y=L?r.a.createElement("button",{onClick:function(){"passive"===N?U.advanceConversation():console.log("speakButton clicked but will be ignored")},className:"btn query-box__button query-box__button--voice",disabled:G},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M12 15c1.66 0 2.99-1.34 2.99-3L15 6c0-1.66-1.34-3-3-3S9 4.34 9 6v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 15 6.7 12H5c0 3.42 2.72 6.23 6 6.72V22h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"}))):null;return r.a.createElement("div",{className:"query-box"},c.length>0?r.a.createElement(Ke,{columnNames:function(){var e=c.length-1,t=c[e];if(J(t)&&B(t.message)&&R(q(t.message))){var n=q(t.message);return D(n.Column)}return null}(),userInput:h,setMessage:v,textInputRef:l.current}):null,"listening"===N?r.a.createElement("div",{className:"query-box__mic-listening-container"},r.a.createElement("div",{className:"query-box__mic-listening-helper"},r.a.createElement("div",{className:"query-box__mic-listening"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},r.a.createElement("defs",null,r.a.createElement("linearGradient",{id:"MyGradient"},r.a.createElement("stop",{offset:"0%",stopColor:"rgba(65,77,241,1)"}),r.a.createElement("stop",{offset:"100%",stopColor:"rgba(255,71,71,1)"}))),r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M12 15c1.66 0 2.99-1.34 2.99-3L15 6c0-1.66-1.34-3-3-3S9 4.34 9 6v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 15 6.7 12H5c0 3.42 2.72 6.23 6 6.72V22h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"})),r.a.createElement("span",{className:"query-box__mic-listening-text"},"Listening")))):null,r.a.createElement("form",{className:"query-box__form",onSubmit:function(e){return function(e){if(e.preventDefault(),h&&""!==h){var t={from:"user",message:h};u([].concat(Object(d.a)(c),[t])),v("")}}(e)}},r.a.createElement("input",{onChange:function(e){v(e.target.value)},value:h,type:"text",className:"query-box__input form-control",ref:l}),r.a.createElement("button",{type:"submit",className:"btn query-box__button query-box__button--send"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"}))),Y,W))},Xe=(n(780),function(e){var t=e.title,n=e.options,a=e.setOption,o=e.selectedOptionValue;return r.a.createElement("div",{className:"options-list"},r.a.createElement("div",{className:"options-list__title"},t),r.a.createElement("div",{className:"options-list__options"},n.map((function(e,n){return r.a.createElement("button",{className:"options-list__option",key:t+"-options"+n,onClick:function(){return t=e.value,void a(t);var t}},e.name,o===e.value?V:null)}))))}),Qe=(n(781),function(e){var t=e.close,n=e.message;return r.a.createElement("div",{className:"alert-modal"},r.a.createElement("div",{className:"alert-modal__content alert-danger"},r.a.createElement("p",{className:"alert-modal__message"},n),r.a.createElement("div",{className:"alert-modal__close-container"},r.a.createElement("button",{className:"alert-modal__close",onClick:t},"close"))))}),et=(n(782),function(e){var t=e.stayLoggedInHandler,n=e.signOutHandler,a=e.message;return r.a.createElement("div",{className:"timeout-prompt-container"},r.a.createElement("div",{className:"timeout-prompt"},r.a.createElement("div",{className:"timeout-prompt__message"},a),r.a.createElement("div",{className:"timeout-prompt__options"},r.a.createElement("button",{className:"timeout-prompt__option btn btn-primary",onClick:t},"Stay logged in"),r.a.createElement("button",{className:"timeout-prompt__option btn btn-outline-primary",onClick:n},"Sign out"))))}),tt="\n  query AllUser($after: String, $first: Int) {\n    allUser(after: $after, first: $first) {\n      cognitoId\n      conversations {\n        nextToken\n      }\n      id\n      messages {\n        nextToken\n      }\n      username\n      registered\n    }\n  }\n",nt=n(203),at=n(839),rt=n(70),ot="\n  mutation CreateUser($username: String!, $joined_at: Int) {\n    createUser(username: $username, joined_at: $joined_at) {\n      cognitoId\n      conversations {\n        nextToken\n      }\n      id\n      messages {\n        nextToken\n      }\n      username\n      registered\n      joined_at\n    }\n  }\n",st="\n  mutation CreateUserConversations($conversationId: ID!, $userId: ID!) {\n    createUserConversations(conversationId: $conversationId, userId: $userId) {\n      associated {\n        conversationId\n        userId\n      }\n      conversation {\n        createdAt\n        id\n        name\n      }\n      conversationId\n      user {\n        cognitoId\n        id\n        username\n        registered\n      }\n      userId\n    }\n  }\n",lt=n(840),it=n(864),ct=function(e){if(e&&e.errors&&e.errors.length>0)throw new Error(e.errors.join("\n"))},ut=function(){var e=Object(u.a)(c.a.mark((function e(t,n){var a,r,o,s,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=[t.username,n.username].sort(),r=a.join(" and "),e.next=5,nt.a.graphql(Object(at.b)("\n  mutation CreateConversation($createdAt: String, $id: ID!, $name: String!) {\n    createConversation(createdAt: $createdAt, id: $id, name: $name) {\n      createdAt\n      id\n      messages {\n        nextToken\n      }\n      name\n    }\n  }\n",{name:r,id:Object(it.a)(),createdAt:Date.now()}));case 5:return o=e.sent,ct(o),e.next=9,nt.a.graphql(Object(at.b)(st,{userId:t.cognitoId,conversationId:o.data.createConversation.id}));case 9:return s=e.sent,ct(s),e.next=13,nt.a.graphql(Object(at.b)(st,{userId:n.cognitoId,conversationId:o.data.createConversation.id}));case 13:return l=e.sent,ct(l),e.abrupt("return",o.data.createConversation.id);case 18:e.prev=18,e.t0=e.catch(0),lt.a.record({name:"createConversationError",attributes:{error:e.t0.message}});case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t,n){return e.apply(this,arguments)}}(),mt=function(){var e=Object(u.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,nt.a.graphql(Object(at.b)("\n  mutation CreateMessage($content: String, $conversationId: ID!, $createdAt: String!, $id: ID!) {\n    createMessage(content: $content, conversationId: $conversationId, createdAt: $createdAt, id: $id) {\n      author {\n        cognitoId\n        id\n        username\n        registered\n      }\n      content\n      conversationId\n      createdAt\n      id\n      isSent\n      recipient {\n        cognitoId\n        id\n        username\n        registered\n      }\n      sender\n    }\n  }\n",Object(l.a)({},t)));case 3:return n=e.sent,ct(n),e.abrupt("return",n.data.CreateMessage);case 8:e.prev=8,e.t0=e.catch(0),lt.a.record({name:"createMessageError",attributes:{error:e.t0.message}});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),dt=(n(827),function(e){var t=e.username,n=e.toggleIsChatUserListVisible,o=e.toggleIsChatListVisible,s=Object(a.useContext)(k).setConId,l=null,i=[],m=function(){var e=Object(u.a)(c.a.mark((function e(t){var a,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=(a=sessionStorage.getItem("convos"))?JSON.parse(a):[],!(r=function(){for(var e=0;e<a.length;e++){var n,r,o,s,i,c,u;if((null===(n=a[e].associated[0])||void 0===n?void 0:n.userId)===(null===(r=l)||void 0===r?void 0:r.cognitoId)&&(null===(o=a[e].associated[1])||void 0===o?void 0:o.userId)===t.cognitoId||(null===(s=a[e].associated[1])||void 0===s?void 0:s.userId)===(null===(i=l)||void 0===i?void 0:i.cognitoId)&&(null===(c=a[e].associated[0])||void 0===c?void 0:c.userId)===t.cognitoId)return{status:!0,cid:null===(u=a[e])||void 0===u?void 0:u.conversationId}}return{status:!1}}()).status){e.next=9;break}sessionStorage.setItem("convId",(null===r||void 0===r?void 0:r.cid)+""),s((null===r||void 0===r?void 0:r.cid)+""),e.next=14;break;case 9:return e.next=11,ut(t,l);case 11:i=e.sent,sessionStorage.setItem("convId",i+""),s(i+"");case 14:n(),o();case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("div",{className:"user-list"},r.a.createElement("div",{className:"list-group"},r.a.createElement(rt.a,{query:Object(at.b)(tt),subscription:Object(at.b)("\n  subscription SubscribeToNewUsers {\n    subscribeToNewUsers {\n      cognitoId\n      conversations {\n        nextToken\n      }\n      id\n      messages {\n        nextToken\n      }\n      username\n      registered\n    }\n  }\n"),onSubscriptionMsg:function(e,t){var n=t.subscribeToNewUsers;return e.allUser.items.push(n),e}},(function(e){var n,a,o,s=e.data,c=e.loading,u=e.error,d=(s||{allUser:[]}).allUser;if(i=d||[],sessionStorage.setItem("allUsers",JSON.stringify(i)),u)return r.a.createElement("h3",null,"Error: ",u);if(c||!i)return r.a.createElement("h3",null,"Loading...");var f=null===(n=i)||void 0===n?void 0:n.filter((function(e){return e.username.toLowerCase()!==t.toLowerCase()}));return l=null===(a=i)||void 0===a?void 0:a.filter((function(e){return e.username.toLowerCase()===t.toLowerCase()}))[0],0===(null===(o=f=f||[])||void 0===o?void 0:o.length)?r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("div",{className:"alert alert-success",role:"alert"},"It looks lonely here... Sign up another user")):f.map((function(e,t){return r.a.createElement("a",{href:"#",key:t,className:"list-group-item list-group-item-action p-3 border-0",onClick:function(){return m(e)}},e.username)}))})))))}),ft=(n(828),function(e){var t=e.isContactListVisible,n=e.toggleIsChatUserListVisible,o=e.username,s=e.toggleIsChatListVisible;Object(a.useEffect)((function(){(function(){var e=Object(u.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,nt.a.graphql(Object(at.b)(tt));case 3:e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}})()()}));var l=t?"contact-list contact-list--visible":"contact-list",i=r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}));return r.a.createElement("div",{className:l},r.a.createElement("div",{className:"contact-list__header"},r.a.createElement("span",{className:"contact-list__heading"},"Contacts"),r.a.createElement("button",{className:"contact-list__close-button",onClick:n},i)),r.a.createElement(dt,{username:o,toggleIsChatUserListVisible:n,toggleIsChatListVisible:s}))}),gt=function(e){var t=e.isContactListVisible,n=e.toggleIsChatUserListVisible,a=e.username,o=e.toggleIsChatListVisible;return r.a.createElement(ft,{toggleIsChatUserListVisible:n,isContactListVisible:t,username:a,toggleIsChatListVisible:o})},pt=(n(829),function(e){var t=Object(a.useState)({text:""}),n=Object(m.a)(t,2),o=n[0],s=n[1],l=Object(a.useContext)(k).currentUser,i=function(){var e=Object(u.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=sessionStorage.getItem("convId"),e.next=3,mt({content:o.text,conversationId:t,createdAt:(new Date).toString(),id:Object(it.a)(),isSent:!0,sender:l.signInUserSession.idToken.payload.sub});case 3:s({text:""});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"chat-input"},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{type:"text",className:"form-control no-focus",required:!0,placeholder:"Type a Message",value:o.text,onKeyUp:function(e){13===e.keyCode&&i()},onChange:function(e,t){s({text:e.target.value})}}),r.a.createElement("span",{className:"input-group-btn"},r.a.createElement("button",{className:"btn btn-dark",onClick:i,type:"button"},"Send\xa0",r.a.createElement("i",{className:"ion-chatbubble-working"})))))}),ht=(n(830),n(831),function(e){e.message.createdAt?new Date(e.message.createdAt).toLocaleTimeString():(new Date).toLocaleTimeString();return r.a.createElement("div",{className:"message_body ".concat(e.isFromMe?"me":"")},r.a.createElement("p",{className:"chatmessage"},r.a.createElement("span",{className:"msgtext"},e.message.content)))}),vt=function(e){var t=Object(a.useContext)(k).currentUser,n=function(e){var t=sessionStorage.getItem("allUsers"),n=(t=t?JSON.parse(t):[]).filter((function(t){return t.id===(null===e||void 0===e?void 0:e.sender)}))[0];return null===n||void 0===n?void 0:n.username};return r.a.createElement("div",{className:"chat-message-view"},r.a.createElement("div",{className:"chat"},e.conversation?r.a.createElement("div",{className:"msgview"},r.a.createElement(rt.a,{query:Object(at.b)("\n  query AllMessageConnection($after: String, $conversationId: ID!, $first: Int) {\n    allMessageConnection(after: $after, conversationId: $conversationId, first: $first) {\n      messages {\n        content\n        conversationId\n        createdAt\n        id\n        isSent\n        sender\n      }\n      nextToken\n    }\n  }\n",{conversationId:e.conversation.id}),subscription:Object(at.b)("\n  subscription SubscribeToNewMessage($conversationId: ID!) {\n    subscribeToNewMessage(conversationId: $conversationId) {\n      author {\n        cognitoId\n        id\n        username\n        registered\n      }\n      content\n      conversationId\n      createdAt\n      id\n      isSent\n      recipient {\n        cognitoId\n        id\n        username\n        registered\n      }\n      sender\n    }\n  }\n",{conversationId:e.conversation.id}),onSubscriptionMsg:function(e,t){var n=t.subscribeToNewMessage;try{e.allMessageConnection.messages.push(n)}catch(a){console.log("Failed to merge user conversation subscription")}return e}},(function(e){var a,o=e.data,s=e.loading,l=e.error,i=(o||{allMessageConnection:[]}).allMessageConnection;if(i=i||[],l)return r.a.createElement("h3",null,"Error: ",l);try{a=i.messages}catch(u){a=[]}if(s||!a)return r.a.createElement("h3",null,"Loading...");var c=a.sort((function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()}));return r.a.createElement(r.a.Fragment,null,c.map((function(e,a){return r.a.createElement(ht,{key:a,message:e,senderName:n(e),isFromMe:e.sender===t.signInUserSession.idToken.payload.sub})})))}))):null))},bt=(n(832),function(e){var t=Object(a.useContext)(k),n=t.currentUser,o=t.conId,s=t.setConId,l=e.currUserId;return r.a.createElement("div",{className:"convo-list"},r.a.createElement("div",{className:"list-group"},l?r.a.createElement(rt.a,{query:Object(at.b)("\nquery getUserConversationConnectionThroughUser($after: String, $first: Int) {\n  me {\n    id\n    registered\n    __typename\n    conversations(first: $first, after: $after) {\n      __typename\n      nextToken\n      userConversations {\n        __typename\n        userId\n        conversationId\n        associated {\n          __typename\n          userId\n        }\n        conversation {\n          __typename\n          id\n          name\n        }\n      }\n    }\n  }\n}"),subscription:Object(at.b)("\n  subscription SubscribeToNewUCs($userId: ID!) {\n    subscribeToNewUCs(userId: $userId) {\n      associated {\n        conversationId\n        userId\n      }\n      conversation {\n        createdAt\n        id\n        name\n      }\n      conversationId\n      user {\n        cognitoId\n        id\n        username\n        registered\n      }\n      userId\n    }\n  }\n",{userId:l}),onSubscriptionMsg:function(e,t){var n=t.subscribeToNewUCs;try{e.me.conversations.userConversations.push(n)}catch(a){console.log("Failed to merge user conversation subscription")}return e}},(function(e){var t,a=e.data,l=e.loading,i=e.error,c=(a||{conversations:[]}).me;if(i)return r.a.createElement("h3",null,"Error: ",i);try{t=null===c||void 0===c?void 0:c.conversations.userConversations}catch(d){t=[]}if(l||!t)return r.a.createElement("h3",null,"Loading...");var u=t.map((function(e){return{associated:e.associated,conversationId:e.conversationId}}));return sessionStorage.setItem("convos",JSON.stringify(u)),t.map((function(e,t){return r.a.createElement("div",{className:"convItem ".concat(o===e.conversationId?"active":""),onClick:function(t){var n;n=e.conversationId,sessionStorage.setItem("convId",n+""),s(n)},key:t},function(e){var t=e.split(" and "),a=Object(m.a)(t,2),r=a[0],o=a[1];return r.toLowerCase()!==n.username.toLowerCase()?r:o.toLowerCase()!==n.username.toLowerCase()?o:void 0}(e.conversation.name))}))})):null))}),Et=(n(833),function(e){var t=e.isChatListVisible,n=e.toggleIsChatListVisible,o=Object(a.useContext)(k),s=o.currentUser,l=o.conId,i=(sessionStorage.getItem("convId"),t?"chat-list chat-list--visible":"chat-list"),c=r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}));return r.a.createElement("div",{className:i},r.a.createElement("div",{className:"chat-list__header"},r.a.createElement("span",{className:"chat-list__heading"},"Chat"),r.a.createElement("button",{className:"chat-list__close-button",onClick:n},c)),s?r.a.createElement(r.a.Fragment,null,r.a.createElement(bt,{currUserId:s.signInUserSession.idToken.payload.sub}),r.a.createElement(vt,{conversation:{id:l+""}}),r.a.createElement(pt,null)):r.a.createElement(r.a.Fragment,null))}),wt=function(e){var t=e.isChatListVisible,n=e.toggleIsChatListVisible;return r.a.createElement(Et,{toggleIsChatListVisible:n,isChatListVisible:t})},yt=(n(834),n(835),n(216)),Ot=(n(836),function(e){var t=e.closeRightSidebar,n=Object(a.useContext)(k),o=n.resetPassword,s=n.confirmPassword,l=Object(a.useState)(""),i=Object(m.a)(l,2),c=i[0],u=i[1],f=Object(a.useState)(""),g=Object(m.a)(f,2),p=g[0],h=g[1],v=Object(a.useState)(""),b=Object(m.a)(v,2),E=b[0],w=b[1],y=Object(a.useState)(""),O=Object(m.a)(y,2),j=O[0],N=O[1],_=Object(a.useState)(!1),x=Object(m.a)(_,2),C=x[0],S=x[1],I=Object(a.useState)(!1),M=Object(m.a)(I,2),F=(M[0],M[1]),L=Object(a.useState)([]),A=Object(m.a)(L,2),z=A[0],T=A[1],U=Object(a.useState)([]),H=Object(m.a)(U,2),P=H[0],V=H[1],D=Object(a.useState)([]),R=Object(m.a)(D,2),q=R[0],B=R[1],$=Object(a.useState)([]),J=Object(m.a)($,2),W=J[0],G=J[1],Y=Object(a.useState)([]),K=Object(m.a)(Y,2),Z=K[0],X=K[1],Q=function(e){var t=[];return""===e&&t.push("Username must not be empty."),t},ee=function(e){var t=[];return e.length>=9||t.push("Must have length greater than or equal to 9"),function(e){for(var t=0;t<e.length;t++)if(e[t].match(/[A-Z]/))return!0;return!1}(e)||t.push("Must have uppercase characters"),function(e){for(var t=0;t<e.length;t++)if(e[t].match(/[0-9]/))return!0;return!1}(e)||t.push("Must have numeric characters"),function(e){for(var t=0;t<e.length;t++)if(e[t].match(/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]/))return!0;return!1}(e)||t.push("Must have symbols"),t},te=function(e){var t=[];return p!==e&&t.push("Passwords must match."),t},ne=function(e){var t=[];return""===e&&t.push("Verification code must not be empty"),t};return r.a.createElement("div",{className:"change-password-container"},r.a.createElement("form",{className:"form change-password-form"},r.a.createElement("div",{className:"text-center font-weight-bold"},"Change Password"),P.length<1?null:r.a.createElement("ul",null,P.map((function(e,t){return r.a.createElement("li",{className:"text-danger",key:"username-error-"+t},e)}))),C?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"form-group mt-3"},r.a.createElement("label",{htmlFor:""},"Verification Code"),r.a.createElement("input",{type:"text",className:"form-control",value:j,onChange:function(e){return function(e){N(e);var t=ne(e);t.length>0?X(Object(d.a)(t)):X([])}(e.target.value)}}),Z.length<1?null:r.a.createElement("ul",null,Z.map((function(e,t){return r.a.createElement("li",{className:"text-danger",key:"password-verification-code-error-"+t},e)})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"New Password"),r.a.createElement("input",{type:"password",className:"form-control",value:p,onChange:function(e){return function(e){h(e);var t=ee(e);t.length>0?B(Object(d.a)(t)):B([])}(e.target.value)}}),q.length<1?null:r.a.createElement("ul",null,q.map((function(e,t){return r.a.createElement("li",{className:"text-danger",key:"username-error-"+t},e)})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:""},"Confirm New Password"),r.a.createElement("input",{type:"password",className:"form-control",value:E,onChange:function(e){return function(e){w(e);var t=te(e);t.length>0?G(Object(d.a)(t)):G([])}(e.target.value)}}),W.length<1?null:r.a.createElement("ul",null,W.map((function(e,t){return r.a.createElement("li",{className:"text-danger",key:"password-confirmation-error-"+t},e)})))),r.a.createElement("button",{className:"btn btn-block btn-primary my-3",type:"button",onClick:function(){var e=ee(p),n=te(E),a=ne(j),r=[].concat(Object(d.a)(e),Object(d.a)(n),Object(d.a)(a));B(e),G(n),X(a),r.length<1&&s(c,j,p,(function(e){e?(console.log(e),V([e.message])):(F(!0),t())}))}},"Reset Password")):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"form-group mt-3"},r.a.createElement("label",{htmlFor:""},"Please enter your username"),r.a.createElement("input",{className:"form-control",type:"text",value:c,onChange:function(e){return function(e){u(e);var t=Q(e);t.length>0?T(Object(d.a)(t)):T([])}(e.target.value)}}),z.length<1?null:r.a.createElement("ul",null,z.map((function(e,t){return r.a.createElement("li",{className:"text-danger",key:"username-error-"+t},e)})))),r.a.createElement("button",{type:"button",className:"btn btn-primary btn-block my-3",onClick:function(){var e=Q(c);e.length>0?T(Object(d.a)(e)):o(c,(function(e){e?(console.log(e),V([e.message])):S(!0)}))}},"Send verification code"))))}),jt=(n(837),function(e){var t=e.status,n=e.closeFileUploadToast,o=g().app,s=o.fileUploadPendingMessage,l=o.fileUploadSuccessMessage,i=Object(a.useRef)(),c=Object(a.useRef)(),u=Object(a.useRef)(),m=function(){clearTimeout(c.current),u.current.classList.add("file-upload-toast--closing"),c.current=setTimeout(n,250)};return Object(a.useEffect)((function(){clearTimeout(i.current),clearTimeout(c.current),i.current=setTimeout(m,1e4)})),r.a.createElement("div",{className:"file-upload-toast alert"+function(){switch(t){case"success":return" alert-success";case"uploading":return" alert-info";case"fail":default:return" alert-danger"}}(),ref:u},r.a.createElement("div",{className:"file-upload-toast__message"},function(){switch(t){case"success":return l;case"uploading":return r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("div",{className:"spinner-border text-info mr-2",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")),s);case"fail":default:return"There was an error uploading your file"}}()),r.a.createElement("button",{onClick:function(){clearTimeout(i.current),m()},className:"file-upload-toast__close btn"+function(){switch(t){case"success":return" btn-success";case"uploading":return" btn-info";case"fail":default:return" btn-danger"}}()},P))}),Nt=function(){var e=Object(a.useContext)(k),t=e.email,n=e.setMessages,o=e.signOut,s=e.pushChat,l=e.username,i=e.botName,c=e.botAlias,u=e.isRightSidebarOpen,d=e.setIsRightSidebarOpen,f=e.rightSidebarContent,p=e.setRightSidebarContent,h=e.files,v=e.resetLoginAttempts,b=e.getLoginAttempts,E=(e.deleteAccount,e.pendingFileUploads),w=e.fileUploadErrors,y=Object(a.useContext)(me),O=g().app,j=O.sessionTimeOutInMinutes,N=O.sessionTimeOutMessage,_=O.forceLogoutAfterTimeOutInMinutes,x=O.maxFileUploadCount,C=(O.maxFileUploadSizeInKb,O.surveyUrl),S=6e4*j||12e5,z=6e4*_||12e4,P=Object(a.useRef)(),V=Object(yt.a)({timeout:S,onIdle:function(e){B(!0),console.log("user timed out signing off in 10 seconds"),clearTimeout(P.current),P.current=setTimeout((function(){return vt(!0)}),z)},debounce:500}),D=(V.getLastActiveTime,V.getRemainingTime,Object(a.useState)(!1)),R=Object(m.a)(D,2),q=R[0],B=R[1],$=Object(a.useState)(!1),J=Object(m.a)($,2),W=J[0],G=J[1],Y=Object(a.useState)(!1),K=Object(m.a)(Y,2),Z=K[0],X=K[1],Q=Object(a.useState)("theme-two"),ee=Object(m.a)(Q,2),te=ee[0],ne=ee[1],ae=Object(a.useState)(!1),re=Object(m.a)(ae,2),oe=re[0],se=re[1],le=Object(a.useState)(!1),ie=Object(m.a)(le,2),ce=ie[0],ue=ie[1],de=Object(a.useState)(!1),fe=Object(m.a)(de,2),ge=fe[0],pe=fe[1],he=Object(a.useState)(""),ve=Object(m.a)(he,2),be=ve[0],Ee=ve[1],we=Object(a.useState)(!1),ye=Object(m.a)(we,2),Oe=ye[0],je=ye[1],Ne=Object(a.useState)("idle"),_e=Object(m.a)(Ne,2),ke=_e[0],Se=_e[1],Ie=Object(a.useState)(!1),Me=Object(m.a)(Ie,2),Ae=Me[0],$e=Me[1],Je=Object(a.useState)(!1),We=Object(m.a)(Je,2),Ge=We[0],Ke=We[1],tt=[{name:"default",value:"default"},{name:"Theme One",value:"theme-one"},{name:"Theme Two",value:"theme-two"},{name:"Theme Three",value:"theme-three"}],nt=W?r.a.createElement(Fe,{setIsTableVisible:G,setIsTableToggleVisible:X}):null,at=function(){se(!1)},rt=function(){$e(!1)},ot=function(){Ke(!0),$e(!1),se(!1),d(!1)},st=function(){Ke(!1)},lt=function(){d(!1)},it=function(){return h.length<x},ct=function(){return"settings"===f?r.a.createElement("div",null,r.a.createElement("div",{className:"text-center font-weight-bold"},"Settings"),r.a.createElement(Xe,{title:"Themes",setOption:ne,selectedOptionValue:te,options:tt}),r.a.createElement("a",{href:C,target:"_blank",className:"btn btn-primary"},"Feedback")):"profile"===f?r.a.createElement(ze,{username:l,email:t,openChangePassword:ut}):"change-password"===f?r.a.createElement(Ot,{closeRightSidebar:lt}):void 0},ut=function(){at(),rt(),st(),pe(!1),d(!0),p("change-password")},mt=function(e){je(!0),Se(e)},dt=function(){return E.length>0},ft=function(){return w.length>0},pt=Z?r.a.createElement(Re,{icon:I,clickHandler:function(){G(!W)},tooltipText:"toggle table"}):null,ht=ce?r.a.createElement(Qe,{close:function(){return ue(!1)},message:be}):null,vt=function(e){!0===e||(n([]),localStorage.removeItem("transcript")),clearTimeout(P.current),o()},bt=q?r.a.createElement(et,{stayLoggedInHandler:function(){console.log("user chose to stay logged in. waiting to time out again"),clearTimeout(P.current),B(!1)},signOutHandler:function(){return vt()},message:N}):null,Et=Oe?r.a.createElement(jt,{closeFileUploadToast:function(){je(!1)},status:ke}):null;return Object(a.useEffect)((function(){0!==b(l)&&v(l)}),[]),Object(a.useEffect)((function(){y.jsonData?(G(!0),X(!0)):(G(!1),X(!1))}),[y.jsonData]),Object(a.useEffect)((function(){dt()&&mt("uploading"),dt()||("uploading"!==ke||ft()?ft()&&mt("fail"):mt("success"))}),[E,w]),r.a.createElement("div",{className:"theme-one"===te?"app app--theme-one":"theme-two"===te?"app app--theme-two":"theme-three"===te?"app app--theme-three":"app"},ht,bt,r.a.createElement(Te,{username:l,theme:te},r.a.createElement(Ue,null,r.a.createElement("div",null,"Welcome, ",r.a.createElement("strong",null,l))),r.a.createElement(Ue,null,r.a.createElement(He,{isActive:ge,setIsActive:pe,toggle:r.a.createElement("button",{className:"dropdown__toggle btn btn-secondary"},r.a.createElement("span",null,"Account"),T)},r.a.createElement(Pe,{clickHandler:function(){return at(),rt(),st(),pe(!1),d(!0),void p("profile")},icon:U,text:"My Profile"}),r.a.createElement(Pe,{clickHandler:function(){return at(),rt(),st(),pe(!1),d(!0),void p("settings")},icon:H,text:"Settings"}),r.a.createElement(Le,{signOutHandler:function(){vt(),localStorage.removeItem("transcript")}}))),r.a.createElement(Ve,{isMobile:!0,isRightSidebarOpen:u,closeRightSidebar:lt,rightSidebarContent:ct()})),r.a.createElement(De,null,r.a.createElement(Re,{icon:F,clickHandler:function(){it()?y.triggerInputClick():(ue(!0),Ee("You have reached the limit for uploading files"))},tooltipText:"upload"}),r.a.createElement(Re,{icon:M,clickHandler:function(){oe?at():(se(!0),pe(!1),d(!1),Ke(!1),$e(!1))},tooltipText:"files"}),pt,r.a.createElement(Re,{icon:L,tooltipText:"contacts",clickHandler:function(){Ae?rt():($e(!0),Ke(!1),se(!1),d(!1))}}),r.a.createElement(Re,{icon:A,tooltipText:"chat",clickHandler:function(){Ge?st():ot()}})),r.a.createElement(qe,null,Et,r.a.createElement(Be,null),r.a.createElement(Ye,{isFilesListVisible:oe,toggleIsFilesListVisible:at}),r.a.createElement(gt,{isContactListVisible:Ae,toggleIsChatUserListVisible:rt,username:l,toggleIsChatListVisible:ot}),r.a.createElement(wt,{isChatListVisible:Ge,toggleIsChatListVisible:st}),r.a.createElement(Ce,null,nt,r.a.createElement(xe,null),r.a.createElement(Ze,{pushChat:s,username:l,botName:i,botAlias:c})),r.a.createElement(Ve,{isRightSidebarOpen:u,closeRightSidebar:lt,rightSidebarContent:ct()})))};var _t=function(){var e=Object(a.useContext)(k),t=e.signIn,n=e.register,o=e.verifyAccount,s=e.registrationStatus,i=e.isLoggedIn,m=e.username,d=e.getLoginAttempts,f=e.incrementLoginAttempts,g=e.resetLoginAttempts,p=e.userSub;function h(e){return v.apply(this,arguments)}function v(){return(v=Object(u.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,nt.a.graphql({query:ot,variables:Object(l.a)(Object(l.a)({},t),{},{joined_at:Math.floor(Date.now()/1e3)}),authMode:"AMAZON_COGNITO_USER_POOLS"});case 3:n=e.sent,console.log(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return e.joinedDate,e.setJoinedDate,Object(a.useEffect)((function(){(function(){var e=Object(u.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=localStorage.getItem("usernew"),"verified"===s&&i&&h({id:p,cognitoId:p,registered:!0,username:t});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[i]),r.a.createElement(S.a,null,r.a.createElement(C.b,{exact:!0,path:"/",render:function(){return i&&m?r.a.createElement(Nt,null):r.a.createElement(C.a,{to:"/sign-in"})}}),r.a.createElement(C.b,{path:"/sign-in",render:function(){return i&&m?r.a.createElement(C.a,{to:"/"}):"verifying"===s?r.a.createElement(C.a,{to:"/register"}):r.a.createElement(se,{signIn:t,getLoginAttempts:d,incrementLoginAttempts:f,resetLoginAttempts:g})}}),r.a.createElement(C.b,{path:"/register",render:function(){return i&&m?r.a.createElement(C.a,{to:"/"}):r.a.createElement(ce,{register:n,verifyAccount:o,registrationStatus:s})}}),r.a.createElement(C.b,{path:"/forgot-password",render:function(){return i&&m?r.a.createElement(C.a,{to:"/"}):r.a.createElement(ue,null)}}),r.a.createElement(C.b,{path:"/",render:function(){return i&&m?r.a.createElement(C.a,{to:"/"}):r.a.createElement(C.a,{to:"/sign-in"})}}))},kt=n(55),xt={aws_project_region:"us-west-2",aws_cognito_identity_pool_id:"us-west-2:a2cb5a9d-d728-4c5c-a96e-b2973d14c5e0",aws_cognito_region:"us-west-2",aws_user_pools_id:"us-west-2_jseVZL1mh",aws_user_pools_web_client_id:"36nivl36qlp8fbnkpd2jv52fu",oauth:{},aws_mobile_analytics_app_id:"c4a87de1250246e491ab2d90d2db162f",aws_mobile_analytics_app_region:"us-west-2",aws_content_delivery_bucket:"thinkquicreactfronte-20210211155341-hostingbucket-dev",aws_content_delivery_bucket_region:"us-west-2",aws_content_delivery_url:"https://d27nvasfpedpzh.cloudfront.net",aws_appsync_graphqlEndpoint:"https://7zmvw77ngrhorm2rplc5j7tzta.appsync-api.us-west-2.amazonaws.com/graphql",aws_appsync_region:"us-west-2",aws_appsync_authenticationType:"AMAZON_COGNITO_USER_POOLS"};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));kt.default.configure(xt),s.a.render(r.a.createElement(x,null,r.a.createElement(de,null,r.a.createElement(_t,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[235,1,2]]]);
//# sourceMappingURL=main.9511252a.chunk.js.map